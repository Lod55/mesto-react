{"version":3,"sources":["contexts/CurrentUserContext.js","utils/api.js","images/Logo.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/RemovePlacePopup.js","components/App.js","index.js"],"names":["CurrentUserContext","createContext","api","baseUrl","token","groupId","this","_address","_token","_groupId","fetch","headers","authorization","then","res","ok","json","Promise","reject","status","name","about","method","body","JSON","stringify","link","id","isLiked","avatar","Header","className","src","logo","alt","Card","card","onCardLike","handleClick","onCardTrash","currentUser","useContext","cardDeleteButton","owner","_id","type","onClick","likes","some","item","cardLikeButtonClassName","length","Main","onEditAvatar","onEditProfile","onAddPlace","isLoading","cards","onCardClick","map","Footer","ImagePopup","onClose","isOpen","PopupWithForm","children","title","textButton","onSubmit","EditProfilePopup","onUpdateUser","useState","inputName","setInputName","inputAbout","setInputAbout","useEffect","e","preventDefault","placeholder","minLength","maxLength","value","onChange","target","required","EditAvatarPopup","onUpdateAvatar","inputValue","setInputValue","AddPlacePopup","inputLink","setInputLink","RemovePlacePopup","onDeleteCard","App","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isRemovePlacePopupOpen","setIsRemovePlacePopupOpen","selectedCard","setSelectedCard","setCards","setIsLoading","useCardId","setUseCardId","closeAllPopups","getInitialCards","catch","err","console","log","finally","getInfoUser","Provider","data","changeLikeCardStatus","newCards","setInfoUser","setCard","setUserAvatar","removeCard","filter","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.87539dbf.chunk.js","sourcesContent":["import { createContext } from 'react';\n\nexport const CurrentUserContext = createContext();","class Api {\n  constructor({ baseUrl, token, groupId }) {\n    this._address = baseUrl;\n    this._token = token;\n    this._groupId = groupId;\n  }\n\n  getInitialCards() {\n    return fetch(`${this._address}/${this._groupId}/cards`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка ${res.status}`))\n  }\n\n  getInfoUser() {\n    return fetch(`${this._address}/${this._groupId}/users/me`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка ${res.status}`))\n  }\n\n  setInfoUser({ name, about }) {\n    return fetch(`${this._address}/${this._groupId}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name,\n        about,\n      })\n    })\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка ${res.status}`))\n  }\n\n  setCard({ name, link }) {\n    return fetch(`${this._address}/${this._groupId}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name,\n        link\n      })\n    })\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка ${res.status}`))\n  }\n\n  removeCard(id) {\n    return fetch(`${this._address}/${this._groupId}/cards/${id}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._token,\n      }\n    })\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка ${res.status}`))\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    return fetch(`${this._address}/${this._groupId}/cards/likes/${id}`, {\n      method: isLiked ? 'DELETE' : 'PUT',\n      headers: {\n        authorization: this._token,\n      }\n    })\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка ${res.status}`))\n  }\n\n  setUserAvatar({ avatar }) {\n    return fetch(`${this._address}/${this._groupId}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar,\n      })\n    })\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка ${res.status}`))\n  }\n}\n\nconst config = {\n  baseUrl: 'https://mesto.nomoreparties.co/v1',\n  token: '429ceaf1-0a34-48aa-a4c9-c70c2c79ac6e',\n  groupId: 'cohort-19'\n}\n\nconst api = new Api(config);\n\nexport default api;","export default __webpack_public_path__ + \"static/media/Logo.a307e1c4.svg\";","import React from 'react';\nimport logo from '../images/Logo.svg';\n\nfunction Header() {\n  return (\n    <header className={\"header page__header\"}>\n      <img src={logo} alt={\"Логотип проекта Места России\"} className={\"header__logo\"} />\n    </header>\n  );\n}\n\nexport default Header;\n","import React, { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nfunction Card({ card, onCardLike, handleClick, onCardTrash }) {\n  const currentUser = useContext(CurrentUserContext);\n\n  const isOwn = card.owner._id === currentUser._id;\n\n  const cardDeleteButton = isOwn\n    ? (<button className=\"button place__button-remove\" type=\"button\" onClick={handleDeleteClick} />)\n    : null;\n\n  const isLiked = card.likes.some(item => item._id === currentUser._id);\n\n  const cardLikeButtonClassName = `button place__button-like \n  ${isLiked\n      ? ('place__button-like_active')\n      : ''}`;\n\n  const handleLikeClick = () => onCardLike(card);\n  const handleImageClick = () => handleClick(card);\n  function handleDeleteClick() { onCardTrash(card) }\n\n  return (\n    <article className=\"place\">\n      <img\n        className=\"place__image\"\n        alt={card.name}\n        src={card.link}\n        onClick={handleImageClick}\n      />\n      {cardDeleteButton}\n      <div className=\"place__row-block\">\n        <h2 className=\"place__title\">{card.name}</h2>\n        <div className=\"place__column-block\">\n          <button className={cardLikeButtonClassName}\n            type=\"button\"\n            onClick={handleLikeClick}\n          />\n          <span className=\"place__score-like\">{card.likes.length}</span>\n        </div>\n      </div>\n    </article>\n  );\n}\n\nexport default Card;","import React, { useContext } from 'react';\nimport Card from './Card.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, isLoading, cards, onCardClick, onCardLike, onCardTrash }) {\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <main className={\"content page__content\"}>\n      <section className={\"profile content__item\"}>\n        <div className={\"profile__overlay\"} onClick={onEditAvatar}>\n          <img src={currentUser.avatar} alt={`Аватар ${currentUser.name}`} className={\"profile__avatar\"} />\n        </div>\n        <div className={\"profile__text-block\"}>\n          <div className={\"profile__row-block\"}>\n            <h1 className={\"profile__author\"}>{currentUser.name}</h1>\n            <button className={\"button profile__button-edit\"} type={\"button\"} onClick={onEditProfile}></button>\n          </div>\n          <p className={\"profile__status\"}>{currentUser.about}</p>\n        </div>\n        <button className={\"button profile__button-add\"} type={\"button\"} onClick={onAddPlace}></button>\n      </section>\n      {isLoading\n        ? <p>Loading...</p>\n        : (<section className={\"places content__item\"}>\n          {cards.map(item => (\n            <Card\n              key={item._id}\n              card={item}\n              handleClick={onCardClick}\n              onCardLike={onCardLike}\n              onCardTrash={onCardTrash}\n            />\n          )\n          )}\n        </section>)\n      }\n    </main>\n  );\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className={\"footer page__footer\"}>\n      <p className={\"footer__author\"}>&copy; 2020 Mesto Russia Lod55</p>\n    </footer>\n  );\n}\n\nexport default Footer;","import React from 'react';\n\nfunction ImagePopup({ card, onClose }) {\n  const className = `popup popup_blackout ${card.isOpen ? 'popup_opened' : ''}`;\n\n  return (\n    <section className={className} id=\"popup-image\">\n      <figure className=\"popup__figure\">\n        <button\n          className=\"button popup__button-close\"\n          type=\"button\"\n          onClick={onClose}>\n        </button>\n        <img\n          className=\"popup__image\"\n          alt={card.name}\n          src={card.link}\n        />\n        <figcaption className=\"popup__caption\">{card.name} / &copy; {card.owner.name}</figcaption>\n      </figure>\n    </section>\n  );\n}\n\nexport default ImagePopup;","import React from 'react';\n\nfunction PopupWithForm({ children, name, title, textButton, isOpen, onClose, onSubmit }) {\n  const className = `popup popup_type_${name} ${isOpen ? 'popup_opened' : ''}`;\n\n  return (\n    <section className={className}>\n      <div className={\"popup__container\"}>\n        <button\n          className={\"button popup__button-close\"}\n          type={\"button\"}\n          onClick={onClose}>\n        </button>\n        <h2 className={\"popup__title\"}>\n          {title}</h2>\n        <form\n          className={\"popup__form\"}\n          name={name}\n          id={\"popup-form-edit\"}\n          onSubmit={onSubmit}\n        >\n          {children}\n          <button\n            className={\"button popup__button-submit\"}\n            type={\"submit\"}>\n            {textButton}\n          </button>\n        </form>\n      </div>\n    </section>\n  );\n}\n\nexport default PopupWithForm;","import React, { useState, useContext, useEffect } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditProfilePopup({ onUpdateUser, isOpen, onClose }) {\n  const currentUser = useContext(CurrentUserContext);\n\n  const [inputName, setInputName] = useState(currentUser.name);\n  const [inputAbout, setInputAbout] = useState(currentUser.about);\n\n  const handleChangeName = (e) => setInputName(e.target.value);\n  const handleChangeAbout = (e) => setInputAbout(e.target.value);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    onUpdateUser({\n      name: inputName,\n      about: inputAbout\n    });\n  }\n\n  useEffect(() => {\n    setInputName(currentUser.name);\n    setInputAbout(currentUser.about);\n  }, [currentUser]);\n\n  return (\n    <PopupWithForm\n      name={\"popup-profile\"}\n      title={\"Редактировать профиль\"}\n      textButton={\"Сохранить\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        className={\"popup__input popup__input_type_author\"}\n        type={\"text\"}\n        placeholder={\"Ваше имя\"}\n        name={\"popup-input-name\"}\n        minLength={\"2\"}\n        maxLength={\"40\"}\n        value={inputName}\n        onChange={handleChangeName}\n        required\n      />\n      <span id={\"popup-input-name-error\"} className={\"popup__error\"}></span>\n      <input\n        className={\"popup__input popup__input_type_status\"}\n        type={\"text\"}\n        placeholder={\"Расскажите о себе\"}\n        name={\"popup-input-status\"}\n        minLength={\"2\"}\n        maxLength={\"200\"}\n        value={inputAbout}\n        onChange={handleChangeAbout}\n        required\n      />\n      <span id={\"popup-input-status-error\"} className={\"popup__error\"}></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React, { useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({ onUpdateAvatar, isOpen, onClose }) {\n  const [inputValue, setInputValue] = useState('');\n\n  const handleChangeAvatar = (e) => setInputValue(e.target.value);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    onUpdateAvatar({ avatar: inputValue });\n    setInputValue('');\n  }\n\n  return (\n    <PopupWithForm\n      name={\"popup-add-avatar\"}\n      title={\"Обновить аватар\"}\n      textButton={\"Обновить\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        className={\"popup__input popup__input_type_photo\"}\n        type={\"url\"}\n        placeholder={\"Ссылка на аватар\"}\n        name={\"popup-input-url-avatar\"}\n        onChange={handleChangeAvatar}\n        minLength={\"7\"}\n        maxLength={\"300\"}\n        value={inputValue}\n        required\n      />\n      <span id={\"popup-input-url-avatar-error\"} className={\"popup__error\"}></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n\n","import React, { useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({ onAddPlace, isOpen, onClose }) {\n  const [inputName, setInputName] = useState('');\n  const [inputLink, setInputLink] = useState('');\n\n  const handleChangeName = (e) => setInputName(e.target.value);\n  const handleChangeLink = (e) => setInputLink(e.target.value);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    onAddPlace({\n      name: inputName,\n      link: inputLink\n    });\n\n    setInputName('');\n    setInputLink('');\n  }\n\n  return (\n    <PopupWithForm\n      name={\"popup-add-card\"}\n      title={\"Новое место\"}\n      textButton={\"Создать\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        className={\"popup__input popup__input_type_place-name\"}\n        type={\"text\"}\n        placeholder={\"Название\"}\n        name={\"popup-input-place-name\"}\n        minLength={\"2\"}\n        maxLength={\"30\"}\n        value={inputName}\n        onChange={handleChangeName}\n        required\n      />\n      <span id={\"popup-input-place-name-error\"} className={\"popup__error\"}></span>\n      <input\n        className={\"popup__input popup__input_type_photo\"}\n        type={\"url\"} placeholder={\"Ссылка на картинку\"}\n        name={\"popup-input-url\"}\n        minLength={\"7\"}\n        maxLength={\"300\"}\n        value={inputLink}\n        onChange={handleChangeLink}\n        required\n      />\n      <span id={\"popup-input-url-error\"} className={\"popup__error\"}></span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction RemovePlacePopup({ onDeleteCard, isOpen, onClose }) {\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onDeleteCard();\n  }\n\n  return (\n    <PopupWithForm\n      name={\"popup-remove-card\"}\n      title={\"Вы уверены?\"}\n      textButton={\"Да\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    />\n\n  );\n}\n\nexport default RemovePlacePopup;","import React, { useState, useEffect } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\nimport api from '../utils/api.js'\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport RemovePlacePopup from './RemovePlacePopup';\n\nfunction App() {\n  // стейты компонента \n  const [currentUser, setCurrentUser] = useState({\n    name: 'Loading...',\n    about: ''\n  });\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isRemovePlacePopupOpen, setIsRemovePlacePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({\n    isOpen: false,\n    owner: { name: '' }\n  });\n  const [cards, setCards] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [useCardId, setUseCardId] = useState('');\n\n  // функции открытия попапов\n  const handleEditProfileClick = () => setIsEditProfilePopupOpen(true);\n  const handleAddPlaceClick = () => setIsAddPlacePopupOpen(true);\n  const handleEditAvatarClick = () => setIsEditAvatarPopupOpen(true);\n  const handleCardClick = (data) => setSelectedCard({\n    isOpen: true,\n    ...data\n  });\n  const handleTrashClick = (card) => {\n    setIsRemovePlacePopupOpen(true)\n    setUseCardId(card._id)\n  }\n\n  // функция закрытия всех попапов\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false)\n    setIsAddPlacePopupOpen(false)\n    setIsEditAvatarPopupOpen(false)\n    setIsRemovePlacePopupOpen(false)\n    setSelectedCard({\n      isOpen: false,\n      owner: { name: '' }\n    });\n  }\n\n  // функции отправки информации на сервер\n  const handleUpdateUser = ({ name, about }) => {\n    api.setInfoUser({ name, about })\n      .then(res => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch(err => console.log(`Error: ${err}`));\n  }\n\n  const handleUpdateAvatar = ({ avatar }) => {\n    api.setUserAvatar({ avatar })\n      .then(res => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch(err => console.log(`Error: ${err}`));\n  }\n\n  const handleAddPlaceSubmit = ({ name, link }) => {\n    api.setCard({ name, link })\n      .then(res => {\n        setCards([res, ...cards]);\n        closeAllPopups();\n      })\n      .catch(err => console.log(`Error: ${err}`));\n  }\n\n  // функция контоля состояния лайка и работа с состоянием на сервере\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some(item => item._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, isLiked)\n      .then(res => {\n        const newCards = cards.map(item => item._id === card._id ? res : item);\n        setCards(newCards);\n      })\n      .catch(err => console.log(`Error: ${err}`));\n  }\n\n  // функция удаления карточки с сервера\n  const handleCardDelete = () => {\n    api.removeCard(useCardId)\n      .then(res => {\n        const newCards = cards.filter(item => item._id === useCardId ? null : item);\n        setCards(newCards);\n        closeAllPopups();\n      })\n      .catch(err => console.log(`Error: ${err}`));\n  }\n\n  useEffect(() => {\n    setIsLoading(true)\n    api.getInitialCards()\n      .then(res => {\n        setCards(res)\n      })\n      .catch(err => console.log(`Error: ${err}`))\n      .finally(() => setIsLoading(false))\n  }, []);\n\n  useEffect(() => {\n    api.getInfoUser()\n      .then(res => {\n        setCurrentUser(res);\n      })\n      .catch(err => console.log(`Error: ${err}`));\n  }, []);\n\n  return (\n    <div className={\"page__container\"}>\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n\n        <Main\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          cards={cards}\n          onCardLike={handleCardLike}\n          onCardTrash={handleTrashClick}\n          isLoading={isLoading}\n        />\n\n        <Footer />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <RemovePlacePopup\n          isOpen={isRemovePlacePopupOpen}\n          onClose={closeAllPopups}\n          onDeleteCard={handleCardDelete}\n        />\n\n        <ImagePopup\n          card={selectedCard}\n          onClose={closeAllPopups}\n        />\n      </CurrentUserContext.Provider>\n    </div>\n\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}