{"version":3,"sources":["contexts/CurrentUserContext.js","utils/api.js","images/Logo.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/RemovePlacePopup.js","components/App.js","index.js"],"names":["CurrentUserContext","createContext","api","baseUrl","token","groupId","this","_address","_token","_groupId","fetch","headers","authorization","then","res","ok","json","Promise","reject","status","name","about","method","body","JSON","stringify","link","id","isLiked","avatar","Header","srcLogo","altLogo","className","src","alt","Card","props","currentUser","useContext","cardDeleteButton","card","owner","_id","type","onClick","onCardDelete","likes","some","item","cardLikeButtonClassName","handleClick","onCardLike","length","Main","onEditAvatar","altAvatar","onEditProfile","onAddPlace","isLoading","cards","map","onCardClick","Footer","text","ImagePopup","isOpen","onClose","PopupWithForm","title","onSubmit","children","textButton","EditProfilePopup","useState","setName","setAbout","useEffect","e","preventDefault","onUpdateUser","placeholder","minLength","maxLength","value","onChange","target","required","EditAvatarPopup","inputRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","inputNameRef","inputLinkRef","RemovePlacePopup","onDeleteCard","App","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isRemovePlacePopupOpen","setIsRemovePlacePopupOpen","selectedCard","setSelectedCard","setCards","setIsLoading","useCardId","setUseCardId","closeAllPopups","getInitialCards","catch","err","console","log","finally","getInfoUser","Provider","logo","data","changeLikeCardStatus","newCards","setInfoUser","setCard","setUserAvatar","removeCard","filter","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"sNAEaA,EAAqBC,0B,cCgGnBC,EAFH,I,WA/FV,cAA0C,IAA5BC,EAA2B,EAA3BA,QAASC,EAAkB,EAAlBA,MAAOC,EAAW,EAAXA,QAAW,oBACvCC,KAAKC,SAAWJ,EAChBG,KAAKE,OAASJ,EACdE,KAAKG,SAAWJ,E,8DAIhB,OAAOK,MAAM,GAAD,OAAIJ,KAAKC,SAAT,YAAqBD,KAAKG,SAA1B,UAA4C,CACtDE,QAAS,CACPC,cAAeN,KAAKE,UAGrBK,MAAK,SAAAC,GAAG,OAAIA,EAAIC,GAAKD,EAAIE,OAASC,QAAQC,OAAR,+CAAyBJ,EAAIK,c,oCAIlE,OAAOT,MAAM,GAAD,OAAIJ,KAAKC,SAAT,YAAqBD,KAAKG,SAA1B,aAA+C,CACzDE,QAAS,CACPC,cAAeN,KAAKE,UAGrBK,MAAK,SAAAC,GAAG,OAAIA,EAAIC,GAAKD,EAAIE,OAASC,QAAQC,OAAR,+CAAyBJ,EAAIK,c,qCAGtC,IAAhBC,EAAe,EAAfA,KAAMC,EAAS,EAATA,MAClB,OAAOX,MAAM,GAAD,OAAIJ,KAAKC,SAAT,YAAqBD,KAAKG,SAA1B,aAA+C,CACzDa,OAAQ,QACRX,QAAS,CACPC,cAAeN,KAAKE,OACpB,eAAgB,oBAElBe,KAAMC,KAAKC,UAAU,CACnBL,OACAC,YAGDR,MAAK,SAAAC,GAAG,OAAIA,EAAIC,GAAKD,EAAIE,OAASC,QAAQC,OAAR,+CAAyBJ,EAAIK,c,iCAG3C,IAAfC,EAAc,EAAdA,KAAMM,EAAQ,EAARA,KACd,OAAOhB,MAAM,GAAD,OAAIJ,KAAKC,SAAT,YAAqBD,KAAKG,SAA1B,UAA4C,CACtDa,OAAQ,OACRX,QAAS,CACPC,cAAeN,KAAKE,OACpB,eAAgB,oBAElBe,KAAMC,KAAKC,UAAU,CACnBL,OACAM,WAGDb,MAAK,SAAAC,GAAG,OAAIA,EAAIC,GAAKD,EAAIE,OAASC,QAAQC,OAAR,+CAAyBJ,EAAIK,c,iCAGzDQ,GACT,OAAOjB,MAAM,GAAD,OAAIJ,KAAKC,SAAT,YAAqBD,KAAKG,SAA1B,kBAA4CkB,GAAM,CAC5DL,OAAQ,SACRX,QAAS,CACPC,cAAeN,KAAKE,UAGrBK,MAAK,SAAAC,GAAG,OAAIA,EAAIC,GAAKD,EAAIE,OAASC,QAAQC,OAAR,+CAAyBJ,EAAIK,c,2CAG/CQ,EAAIC,GACvB,OAAOlB,MAAM,GAAD,OAAIJ,KAAKC,SAAT,YAAqBD,KAAKG,SAA1B,wBAAkDkB,GAAM,CAClEL,OAAQM,EAAU,SAAW,MAC7BjB,QAAS,CACPC,cAAeN,KAAKE,UAGrBK,MAAK,SAAAC,GAAG,OAAIA,EAAIC,GAAKD,EAAIE,OAASC,QAAQC,OAAR,+CAAyBJ,EAAIK,c,uCAGzC,IAAXU,EAAU,EAAVA,OACd,OAAOnB,MAAM,GAAD,OAAIJ,KAAKC,SAAT,YAAqBD,KAAKG,SAA1B,oBAAsD,CAChEa,OAAQ,QACRX,QAAS,CACPC,cAAeN,KAAKE,OACpB,eAAgB,oBAElBe,KAAMC,KAAKC,UAAU,CACnBI,aAGDhB,MAAK,SAAAC,GAAG,OAAIA,EAAIC,GAAKD,EAAIE,OAASC,QAAQC,OAAR,+CAAyBJ,EAAIK,gB,KAU1D,CANG,CACbhB,QAAS,oCACTC,MAAO,uCACPC,QAAS,cC7FI,MAA0B,iCCQ1ByB,MARf,YAAuC,IAArBC,EAAoB,EAApBA,QAASC,EAAW,EAAXA,QACzB,OACE,wBAAQC,UAAW,sBAAnB,SACE,qBAAKC,IAAKH,EAASI,IAAKH,EAASC,UAAW,oBC+CnCG,MA9Cf,SAAcC,GACZ,IAAMC,EAAcC,qBAAWvC,GAEzBwC,EADQH,EAAMI,KAAKC,MAAMC,MAAQL,EAAYK,IAE9C,wBAAQV,UAAU,8BAA8BW,KAAK,SAASC,QAenE,WACER,EAAMS,aAAaT,EAAMI,SAftB,KACCb,EAAUS,EAAMI,KAAKM,MAAMC,MAAK,SAAAC,GAAI,OAAIA,EAAKN,MAAQL,EAAYK,OACjEO,EAAuB,oCAAgCtB,EACxD,4BACD,IAcJ,OACE,0BAASK,UAAU,QAAnB,UACE,qBACEA,UAAU,eACVE,IAAKE,EAAMI,KAAKrB,KAChBc,IAAKG,EAAMI,KAAKf,KAChBmB,QAdN,WACER,EAAMc,YAAYd,EAAMI,SAerBD,EACD,sBAAKP,UAAU,mBAAf,UACE,oBAAIA,UAAU,eAAd,SAA8BI,EAAMI,KAAKrB,OACzC,sBAAKa,UAAU,sBAAf,UACE,wBAAQA,UAAWiB,EACjBN,KAAK,SACLC,QA1BV,WACER,EAAMe,WAAWf,EAAMI,SA2BjB,sBAAMR,UAAU,oBAAhB,SAAqCI,EAAMI,KAAKM,MAAMM,mBCDjDC,MArCf,SAAcjB,GACZ,IAAMC,EAAcC,qBAAWvC,GAE/B,OACE,uBAAMiC,UAAW,wBAAjB,UACE,0BAASA,UAAW,wBAApB,UACE,qBAAKA,UAAW,mBAAoBY,QAASR,EAAMkB,aAAnD,SACE,qBAAKrB,IAAKI,EAAYT,OAAQM,IAAKE,EAAMmB,UAAWvB,UAAW,sBAEjE,sBAAKA,UAAW,sBAAhB,UACE,sBAAKA,UAAW,qBAAhB,UACE,oBAAIA,UAAW,kBAAf,SAAmCK,EAAYlB,OAC/C,wBAAQa,UAAW,8BAA+BW,KAAM,SAAUC,QAASR,EAAMoB,mBAEnF,mBAAGxB,UAAW,kBAAd,SAAkCK,EAAYjB,WAEhD,wBAAQY,UAAW,6BAA8BW,KAAM,SAAUC,QAASR,EAAMqB,gBAEjFrB,EAAMsB,UACH,2CACC,yBAAS1B,UAAW,uBAApB,SACAI,EAAMuB,MAAMC,KAAI,SAAAZ,GAAI,OACnB,cAAC,EAAD,CAEER,KAAMQ,EACNE,YAAad,EAAMyB,YACnBV,WAAYf,EAAMe,WAClBN,aAAcT,EAAMS,cAJfG,EAAKN,cCpBToB,MARf,SAAgB1B,GACd,OACE,wBAAQJ,UAAW,sBAAnB,SACE,oBAAGA,UAAW,iBAAd,kBAAwCI,EAAM2B,WCkBrCC,MArBf,SAAoB5B,GAClB,IAAMJ,EAAS,+BAA2BI,EAAMI,KAAKyB,OAAS,eAAiB,IAC/E,OACE,yBAASjC,UAAWA,EAAWN,GAAG,cAAlC,SACE,yBAAQM,UAAU,gBAAlB,UACE,wBACEA,UAAU,6BACVW,KAAK,SACLC,QAASR,EAAM8B,UAEjB,qBACElC,UAAU,eACVE,IAAKE,EAAMI,KAAKrB,KAChBc,IAAKG,EAAMI,KAAKf,OAElB,4BAAYO,UAAU,iBAAtB,SAAwCI,EAAMI,KAAKrB,aCgB5CgD,MA/Bf,SAAuB/B,GACrB,IAAMJ,EAAS,2BAAuBI,EAAMjB,KAA7B,YAAqCiB,EAAM6B,OAAS,eAAiB,IAEpF,OACE,yBAASjC,UAAWA,EAApB,SACE,sBAAKA,UAAW,mBAAhB,UACE,wBACEA,UAAW,6BACXW,KAAM,SACNC,QAASR,EAAM8B,UAEjB,oBAAIlC,UAAW,eAAf,SACGI,EAAMgC,QACT,uBACEpC,UAAW,cACXb,KAAMiB,EAAMjB,KACZO,GAAI,kBACJ2C,SAAUjC,EAAMiC,SAJlB,UAMGjC,EAAMkC,SACP,wBACEtC,UAAW,8BACXW,KAAM,SAFR,SAGGP,EAAMmC,sBC2CJC,MA9Df,SAA0BpC,GACxB,IAAMC,EAAcC,qBAAWvC,GADA,EAGP0E,mBAASpC,EAAYlB,MAHd,mBAGxBA,EAHwB,KAGlBuD,EAHkB,OAILD,mBAASpC,EAAYjB,OAJhB,mBAIxBA,EAJwB,KAIjBuD,EAJiB,KAyB/B,OAnBAC,qBAAU,WACRF,EAAQrC,EAAYlB,MACpBwD,EAAStC,EAAYjB,SACpB,CAACiB,IAiBF,eAAC,EAAD,CACElB,KAAM,gBACNiD,MAAO,4HACPG,WAAY,yDACZN,OAAQ7B,EAAM6B,OACdC,QAAS9B,EAAM8B,QACfG,SArBJ,SAAsBQ,GACpBA,EAAEC,iBAEF1C,EAAM2C,aAAa,CAAE5D,OAAMC,WAY3B,UAQE,uBACEY,UAAW,wCACXW,KAAM,OACNqC,YAAa,8CACb7D,KAAM,mBACN8D,UAAW,IACXC,UAAW,KACXC,MAAOhE,EACPiE,SAzBN,SAA0BP,GACxBH,EAAQG,EAAEQ,OAAOF,QAyBbG,UAAQ,IAEV,sBAAM5D,GAAI,yBAA0BM,UAAW,iBAC/C,uBACEA,UAAW,wCACXW,KAAM,OACNqC,YAAa,+FACb7D,KAAM,qBACN8D,UAAW,IACXC,UAAW,MACXC,MAAO/D,EACPgE,SAjCN,SAA2BP,GACzBF,EAASE,EAAEQ,OAAOF,QAiCdG,UAAQ,IAEV,sBAAM5D,GAAI,2BAA4BM,UAAW,qBCzBxCuD,MAjCf,SAAyBnD,GACvB,IAAMoD,EAAWC,mBAUjB,OACE,eAAC,EAAD,CACEtE,KAAM,mBACNiD,MAAO,wFACPG,WAAY,mDACZN,OAAQ7B,EAAM6B,OACdC,QAAS9B,EAAM8B,QACfG,SAfJ,SAAsBQ,GACpBA,EAAEC,iBACF1C,EAAMsD,eAAe,CACnB9D,OAAQ4D,EAASG,QAAQR,QAE3BK,EAASG,QAAQR,MAAQ,IAIzB,UAQE,uBACEnD,UAAW,uCACXW,KAAM,MACNqC,YAAa,yFACb7D,KAAM,yBACNyE,IAAKJ,EACLF,UAAQ,IAEV,sBAAM5D,GAAI,+BAAgCM,UAAW,qBCoB5C6D,MAhDf,SAAuBzD,GACrB,IAAM0D,EAAeL,mBACfM,EAAeN,mBAcrB,OACE,eAAC,EAAD,CACEtE,KAAM,iBACNiD,MAAO,gEACPG,WAAY,6CACZN,OAAQ7B,EAAM6B,OACdC,QAAS9B,EAAM8B,QACfG,SAnBJ,SAAsBQ,GACpBA,EAAEC,iBAEF1C,EAAMqB,WAAW,CACftC,KAAM2E,EAAaH,QAAQR,MAC3B1D,KAAMsE,EAAaJ,QAAQR,QAG7BW,EAAaH,QAAQR,MAAQ,GAC7BY,EAAaJ,QAAQR,MAAQ,IAI7B,UAQE,uBACEnD,UAAU,4CACVW,KAAK,OACLqC,YAAY,mDACZ7D,KAAK,yBACL8D,UAAU,IACVC,UAAU,KACVU,IAAKE,EACLR,UAAQ,IAEV,sBAAM5D,GAAG,+BAA+BM,UAAU,iBAClD,uBACEA,UAAU,uCACVW,KAAK,MAAMqC,YAAY,qGACvB7D,KAAK,kBACLyE,IAAKG,EACLT,UAAQ,IAEV,sBAAM5D,GAAG,wBAAwBM,UAAU,qBCzBlCgE,MAnBf,SAA0B5D,GAMxB,OACE,cAAC,EAAD,CACEjB,KAAM,oBACNiD,MAAO,2DACPG,WAAY,eACZN,OAAQ7B,EAAM6B,OACdC,QAAS9B,EAAM8B,QACfG,SAZJ,SAAsBQ,GACpBA,EAAEC,iBACF1C,EAAM6D,mBC8KKC,MAtKf,WAAgB,IAAD,EACyBzB,mBAAS,CAC7CtD,KAAM,aACNC,MAAO,KAHI,mBACNiB,EADM,KACO8D,EADP,OAK+C1B,oBAAS,GALxD,mBAKN2B,EALM,KAKkBC,EALlB,OAMyC5B,oBAAS,GANlD,mBAMN6B,EANM,KAMeC,EANf,OAO6C9B,oBAAS,GAPtD,mBAON+B,EAPM,KAOiBC,EAPjB,OAQ+ChC,oBAAS,GARxD,mBAQNiC,EARM,KAQkBC,EARlB,OAS2BlC,mBAAS,CAAER,QAAQ,IAT9C,mBASN2C,EATM,KASQC,EATR,OAUapC,mBAAS,IAVtB,mBAUNd,EAVM,KAUCmD,EAVD,OAWqBrC,oBAAS,GAX9B,mBAWNf,EAXM,KAWKqD,EAXL,OAYqBtC,mBAAS,IAZ9B,mBAYNuC,EAZM,KAYKC,EAZL,KAiCb,SAASC,IACPb,GAA0B,GAC1BE,GAAuB,GACvBE,GAAyB,GACzBE,GAA0B,GAC1BE,EAAgB,CAAE5C,QAAQ,IAwE5B,OA/FAW,qBAAU,WACRmC,GAAa,GACb9G,EAAIkH,kBACDvG,MAAK,SAAAC,GACJiG,EAASjG,MAEVuG,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAR,iBAAsBF,OACnCG,SAAQ,kBAAMT,GAAa,QAC7B,IAEHnC,qBAAU,WACR3E,EAAIwH,cACD7G,MAAK,SAAAC,GACJsF,EAAetF,MAEhBuG,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAR,iBAAsBF,SACrC,IAgFD,qBAAKrF,UAAW,kBAAhB,SACE,eAACjC,EAAmB2H,SAApB,CAA6BvC,MAAO9C,EAApC,UACE,cAAC,EAAD,CACEP,QAAS6F,EACT5F,QAAS,mHAGX,cAAC,EAAD,CACEwB,UAAW,0GACXC,cA/ER,WACE6C,GAA0B,IA+EpB5C,WA5ER,WACE8C,GAAuB,IA4EjBjD,aAzER,WACEmD,GAAyB,IAyEnB5C,YAjER,SAAyB+D,GACvBf,EAAgB,aAAE5C,QAAQ,GAAS2D,KAiE7BjE,MAAOA,EACPR,WA7CR,SAAwBX,GACtB,IAAMb,EAAUa,EAAKM,MAAMC,MAAK,SAAAC,GAAI,OAAIA,EAAKN,MAAQL,EAAYK,OAEjEzC,EAAI4H,qBAAqBrF,EAAKE,IAAKf,GAChCf,MAAK,SAAAC,GACJ,IAAMiH,EAAWnE,EAAMC,KAAI,SAAAZ,GAAI,OAAIA,EAAKN,MAAQF,EAAKE,IAAM7B,EAAMmC,KACjE8D,EAASgB,MAEVV,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAR,iBAAsBF,QAsChCxE,aAzER,SAA0BL,GACxBmE,GAA0B,GAC1BM,EAAazE,EAAKE,MAwEZgB,UAAWA,IAGb,cAAC,EAAD,CAAQK,KAAM,4BAEd,cAAC,EAAD,CACEE,OAAQmC,EACRlC,QAASgD,EACTnC,aAzER,YAA4C,IAAhB5D,EAAe,EAAfA,KAAMC,EAAS,EAATA,MAChCnB,EAAI8H,YAAY,CAAE5G,OAAMC,UACrBR,MAAK,SAAAC,GACJsF,EAAetF,GACfqG,OAEDE,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAR,iBAAsBF,UAsElC,cAAC,EAAD,CACEpD,OAAQqC,EACRpC,QAASgD,EACTzD,WAxCR,YAA+C,IAAftC,EAAc,EAAdA,KAAMM,EAAQ,EAARA,KACpCxB,EAAI+H,QAAQ,CAAE7G,OAAMM,SACjBb,MAAK,SAAAC,GACJiG,EAAS,CAACjG,GAAF,mBAAU8C,KAClBuD,OAEDE,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAR,iBAAsBF,UAqClC,cAAC,EAAD,CACEpD,OAAQuC,EACRtC,QAASgD,EACTxB,eA5ER,YAAyC,IAAX9D,EAAU,EAAVA,OAC5B3B,EAAIgI,cAAc,CAAErG,WACjBhB,MAAK,SAAAC,GACJsF,EAAetF,GACfqG,OAEDE,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAR,iBAAsBF,UAyElC,cAAC,EAAD,CACEpD,OAAQyC,EACRxC,QAASgD,EACTjB,aA9DR,WACEhG,EAAIiI,WAAWlB,GACZpG,MAAK,SAAAC,GACJ,IAAMiH,EAAWnE,EAAMwE,QAAO,SAAAnF,GAAI,OAAIA,EAAKN,MAAQsE,EAAY,KAAOhE,KACtE8D,EAASgB,GACTZ,OAEDE,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAR,iBAAsBF,UA0DlC,cAAC,EAAD,CACE7E,KAAMoE,EACN1C,QAASgD,UCtKnBkB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.2c756695.chunk.js","sourcesContent":["import { createContext } from 'react';\n\nexport const CurrentUserContext = createContext();","class Api {\n  constructor({ baseUrl, token, groupId }) {\n    this._address = baseUrl;\n    this._token = token;\n    this._groupId = groupId;\n  }\n\n  getInitialCards() {\n    return fetch(`${this._address}/${this._groupId}/cards`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка ${res.status}`))\n  }\n\n  getInfoUser() {\n    return fetch(`${this._address}/${this._groupId}/users/me`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка ${res.status}`))\n  }\n\n  setInfoUser({ name, about }) {\n    return fetch(`${this._address}/${this._groupId}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name,\n        about,\n      })\n    })\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка ${res.status}`))\n  }\n\n  setCard({ name, link }) {\n    return fetch(`${this._address}/${this._groupId}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name,\n        link\n      })\n    })\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка ${res.status}`))\n  }\n\n  removeCard(id) {\n    return fetch(`${this._address}/${this._groupId}/cards/${id}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._token,\n      }\n    })\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка ${res.status}`))\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    return fetch(`${this._address}/${this._groupId}/cards/likes/${id}`, {\n      method: isLiked ? 'DELETE' : 'PUT',\n      headers: {\n        authorization: this._token,\n      }\n    })\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка ${res.status}`))\n  }\n\n  setUserAvatar({ avatar }) {\n    return fetch(`${this._address}/${this._groupId}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar,\n      })\n    })\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка ${res.status}`))\n  }\n}\n\nconst config = {\n  baseUrl: 'https://mesto.nomoreparties.co/v1',\n  token: '429ceaf1-0a34-48aa-a4c9-c70c2c79ac6e',\n  groupId: 'cohort-19'\n}\n\nconst api = new Api(config);\n\nexport default api;","export default __webpack_public_path__ + \"static/media/Logo.a307e1c4.svg\";","function Header({ srcLogo, altLogo }) {\n  return (\n    <header className={\"header page__header\"}>\n      <img src={srcLogo} alt={altLogo} className={\"header__logo\"} />\n    </header>\n  );\n}\n\nexport default Header;\n","import { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nfunction Card(props) {\n  const currentUser = useContext(CurrentUserContext);\n  const isOwn = props.card.owner._id === currentUser._id;\n  const cardDeleteButton = isOwn\n    ? (<button className=\"button place__button-remove\" type=\"button\" onClick={handleDeleteClick} />)\n    : (null);\n  const isLiked = props.card.likes.some(item => item._id === currentUser._id);\n  const cardLikeButtonClassName = `button place__button-like ${isLiked\n    ? ('place__button-like_active')\n    : ''}`;\n\n  function handleLikeClick() {\n    props.onCardLike(props.card)\n  }\n\n  function handleImageClick() {\n    props.handleClick(props.card)\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card)\n  }\n\n  return (\n    <article className=\"place\">\n      <img\n        className=\"place__image\"\n        alt={props.card.name}\n        src={props.card.link}\n        onClick={handleImageClick}\n      />\n      {cardDeleteButton}\n      <div className=\"place__row-block\">\n        <h2 className=\"place__title\">{props.card.name}</h2>\n        <div className=\"place__column-block\">\n          <button className={cardLikeButtonClassName}\n            type=\"button\"\n            onClick={handleLikeClick}\n          />\n          <span className=\"place__score-like\">{props.card.likes.length}</span>\n        </div>\n      </div>\n    </article>\n  );\n}\n\nexport default Card;","import { useContext } from 'react';\nimport Card from './Card.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nfunction Main(props) {\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <main className={\"content page__content\"}>\n      <section className={\"profile content__item\"}>\n        <div className={\"profile__overlay\"} onClick={props.onEditAvatar}>\n          <img src={currentUser.avatar} alt={props.altAvatar} className={\"profile__avatar\"} />\n        </div>\n        <div className={\"profile__text-block\"}>\n          <div className={\"profile__row-block\"}>\n            <h1 className={\"profile__author\"}>{currentUser.name}</h1>\n            <button className={\"button profile__button-edit\"} type={\"button\"} onClick={props.onEditProfile}></button>\n          </div>\n          <p className={\"profile__status\"}>{currentUser.about}</p>\n        </div>\n        <button className={\"button profile__button-add\"} type={\"button\"} onClick={props.onAddPlace}></button>\n      </section>\n      {props.isLoading\n        ? <p>Loading...</p>\n        : (<section className={\"places content__item\"}>\n          {props.cards.map(item => (\n            <Card\n              key={item._id}\n              card={item}\n              handleClick={props.onCardClick}\n              onCardLike={props.onCardLike}\n              onCardDelete={props.onCardDelete}\n            />\n          )\n          )}\n        </section>)\n      }\n    </main>\n  );\n}\n\nexport default Main;\n","function Footer(props) {\n  return (\n    <footer className={\"footer page__footer\"}>\n      <p className={\"footer__author\"}>&copy; {props.text}</p>\n    </footer>\n  );\n}\n\nexport default Footer;","function ImagePopup(props) {\n  const className = `popup popup_blackout ${props.card.isOpen ? 'popup_opened' : ''}`;\n  return (\n    <section className={className} id=\"popup-image\">\n      <figure className=\"popup__figure\">\n        <button\n          className=\"button popup__button-close\"\n          type=\"button\"\n          onClick={props.onClose}>\n        </button>\n        <img\n          className=\"popup__image\"\n          alt={props.card.name}\n          src={props.card.link}\n        />\n        <figcaption className=\"popup__caption\">{props.card.name}</figcaption>\n      </figure>\n    </section>\n  );\n}\n\nexport default ImagePopup;","function PopupWithForm(props) {\n  const className = `popup popup_type_${props.name} ${props.isOpen ? 'popup_opened' : ''}`;\n\n  return (\n    <section className={className}>\n      <div className={\"popup__container\"}>\n        <button\n          className={\"button popup__button-close\"}\n          type={\"button\"}\n          onClick={props.onClose}>\n        </button>\n        <h2 className={\"popup__title\"}>\n          {props.title}</h2>\n        <form\n          className={\"popup__form\"}\n          name={props.name}\n          id={\"popup-form-edit\"}\n          onSubmit={props.onSubmit}\n        >\n          {props.children}\n          <button\n            className={\"button popup__button-submit\"}\n            type={\"submit\"}>\n            {props.textButton}\n          </button>\n        </form>\n      </div>\n    </section>\n  );\n}\n\nexport default PopupWithForm;","import { useState, useContext, useEffect } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditProfilePopup(props) {\n  const currentUser = useContext(CurrentUserContext);\n\n  const [name, setName] = useState(currentUser.name);\n  const [about, setAbout] = useState(currentUser.about);\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setAbout(currentUser.about);\n  }, [currentUser]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateUser({ name, about });\n  }\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeAbout(e) {\n    setAbout(e.target.value);\n  }\n\n  return (\n    <PopupWithForm\n      name={\"popup-profile\"}\n      title={\"Редактировать профиль\"}\n      textButton={\"Сохранить\"}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        className={\"popup__input popup__input_type_author\"}\n        type={\"text\"}\n        placeholder={\"Ваше имя\"}\n        name={\"popup-input-name\"}\n        minLength={\"2\"}\n        maxLength={\"40\"}\n        value={name}\n        onChange={handleChangeName}\n        required\n      />\n      <span id={\"popup-input-name-error\"} className={\"popup__error\"}></span>\n      <input\n        className={\"popup__input popup__input_type_status\"}\n        type={\"text\"}\n        placeholder={\"Расскажите о себе\"}\n        name={\"popup-input-status\"}\n        minLength={\"2\"}\n        maxLength={\"200\"}\n        value={about}\n        onChange={handleChangeAbout}\n        required\n      />\n      <span id={\"popup-input-status-error\"} className={\"popup__error\"}></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import { useRef } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n  const inputRef = useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: inputRef.current.value,\n    });\n    inputRef.current.value = '';\n  }\n\n  return (\n    <PopupWithForm\n      name={\"popup-add-avatar\"}\n      title={\"Обновить аватар\"}\n      textButton={\"Обновить\"}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        className={\"popup__input popup__input_type_photo\"}\n        type={\"url\"}\n        placeholder={\"Ссылка на аватар\"}\n        name={\"popup-input-url-avatar\"}\n        ref={inputRef}\n        required\n      />\n      <span id={\"popup-input-url-avatar-error\"} className={\"popup__error\"}></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n\n","import { useRef } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n  const inputNameRef = useRef();\n  const inputLinkRef = useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onAddPlace({\n      name: inputNameRef.current.value,\n      link: inputLinkRef.current.value\n    });\n\n    inputNameRef.current.value = '';\n    inputLinkRef.current.value = '';\n  }\n\n  return (\n    <PopupWithForm\n      name={\"popup-add-card\"}\n      title={\"Новое место\"}\n      textButton={\"Создать\"}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        className=\"popup__input popup__input_type_place-name\"\n        type=\"text\"\n        placeholder=\"Название\"\n        name=\"popup-input-place-name\"\n        minLength=\"2\"\n        maxLength=\"30\"\n        ref={inputNameRef}\n        required\n      />\n      <span id=\"popup-input-place-name-error\" className=\"popup__error\"></span>\n      <input\n        className=\"popup__input popup__input_type_photo\"\n        type=\"url\" placeholder=\"Ссылка на картинку\"\n        name=\"popup-input-url\"\n        ref={inputLinkRef}\n        required\n      />\n      <span id=\"popup-input-url-error\" className=\"popup__error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;","import PopupWithForm from './PopupWithForm';\n\nfunction RemovePlacePopup(props) {\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onDeleteCard();\n  }\n\n  return (\n    <PopupWithForm\n      name={\"popup-remove-card\"}\n      title={\"Вы уверены?\"}\n      textButton={\"Да\"}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    />\n\n  );\n}\n\nexport default RemovePlacePopup;","import { useState, useEffect } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\nimport api from '../utils/api.js'\nimport logo from '../images/Logo.svg';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport RemovePlacePopup from './RemovePlacePopup';\n\nfunction App() {\n  const [currentUser, setCurrentUser] = useState({\n    name: 'Loading...',\n    about: ''\n  });\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isRemovePlacePopupOpen, setIsRemovePlacePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({ isOpen: false });\n  const [cards, setCards] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [useCardId, setUseCardId] = useState('');\n\n\n  useEffect(() => {\n    setIsLoading(true)\n    api.getInitialCards()\n      .then(res => {\n        setCards(res)\n      })\n      .catch(err => console.log(`Error: ${err}`))\n      .finally(() => setIsLoading(false))\n  }, []);\n\n  useEffect(() => {\n    api.getInfoUser()\n      .then(res => {\n        setCurrentUser(res);\n      })\n      .catch(err => console.log(`Error: ${err}`));\n  }, []);\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false)\n    setIsAddPlacePopupOpen(false)\n    setIsEditAvatarPopupOpen(false)\n    setIsRemovePlacePopupOpen(false)\n    setSelectedCard({ isOpen: false })\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true)\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true)\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true)\n  }\n\n  function handleTrashClick(card) {\n    setIsRemovePlacePopupOpen(true)\n    setUseCardId(card._id)\n  }\n\n  function handleCardClick(data) {\n    setSelectedCard({ isOpen: true, ...data })\n  }\n\n  function handleUpdateUser({ name, about }) {\n    api.setInfoUser({ name, about })\n      .then(res => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch(err => console.log(`Error: ${err}`));\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    api.setUserAvatar({ avatar })\n      .then(res => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch(err => console.log(`Error: ${err}`));\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(item => item._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, isLiked)\n      .then(res => {\n        const newCards = cards.map(item => item._id === card._id ? res : item);\n        setCards(newCards);\n      })\n      .catch(err => console.log(`Error: ${err}`));\n  }\n\n  function handleCardDelete() {\n    api.removeCard(useCardId)\n      .then(res => {\n        const newCards = cards.filter(item => item._id === useCardId ? null : item);\n        setCards(newCards);\n        closeAllPopups();\n      })\n      .catch(err => console.log(`Error: ${err}`));\n  }\n\n  function handleAddPlaceSubmit({ name, link }) {\n    api.setCard({ name, link })\n      .then(res => {\n        setCards([res, ...cards]);\n        closeAllPopups();\n      })\n      .catch(err => console.log(`Error: ${err}`));\n  }\n\n  return (\n    <div className={\"page__container\"}>\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header\n          srcLogo={logo}\n          altLogo={\"Логотип Маста России\"}\n        />\n\n        <Main\n          altAvatar={\"Изображение Автора\"}\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          cards={cards}\n          onCardLike={handleCardLike}\n          onCardDelete={handleTrashClick}\n          isLoading={isLoading}\n        />\n\n        <Footer text={\"2020 Mesto Russia Lod55\"} />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <RemovePlacePopup\n          isOpen={isRemovePlacePopupOpen}\n          onClose={closeAllPopups}\n          onDeleteCard={handleCardDelete}\n        />\n\n        <ImagePopup\n          card={selectedCard}\n          onClose={closeAllPopups}\n        />\n      </CurrentUserContext.Provider>\n    </div>\n\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}