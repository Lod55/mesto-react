{"version":3,"sources":["contexts/CurrentUserContext.js","images/fail.svg","images/success.svg","components/InfoTooltip.js","components/ProtectedRoute.js","components/Register.js","components/Login.js","images/Logo.svg","components/Header.js","components/Card.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/RemovePlacePopup.js","components/Main.js","components/Footer.js","utils/auth.js","utils/api.js","components/App.js","index.js"],"names":["CurrentUserContext","createContext","InfoTooltip","props","isOpen","onClose","isSuccess","path","useLocation","pathname","tooltip","image","success","fail","onClick","e","target","classList","contains","className","type","src","alt","ProtectedRoute","loggedIn","children","to","Register","onRegister","initialData","email","password","confirmation","initialInputsValid","initialErrorsValid","useState","data","setData","validationsInputs","setValidationsInputs","validationForm","setValidationForm","errorsValid","setErrorsValid","useEffect","handleChange","name","value","validity","validationMessage","valid","resetForm","id","onSubmit","preventDefault","then","catch","err","console","log","message","placeholder","minLength","maxLength","onChange","required","Login","onLogin","Header","onSignOut","userEmail","isActive","setIsActive","logo","Card","card","onCardLike","onImageClick","onCardTrash","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","item","link","length","ImagePopup","PopupWithForm","title","textButton","EditProfilePopup","onUpdateUser","author","about","EditAvatarPopup","onUpdateAvatar","inputValue","setInputValue","validationInput","setValidationInput","errorValid","setErrorValid","AddPlacePopup","onAddPlace","RemovePlacePopup","onDeleteCard","Main","isLoading","cards","onCardDelete","onAddPlaceSubmit","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isRemovePlacePopupOpen","setIsRemovePlacePopupOpen","selectedCard","setSelectedCard","useCardId","setUseCardId","handleCardClick","handleTrashClick","closeAllPopups","handleCardLike","avatar","map","Footer","BASE_URL","responseCheck","response","ok","json","Promise","reject","status","api","baseUrl","token","groupId","this","_address","_token","_groupId","res","fetch","headers","authorization","_checkResponse","method","body","JSON","stringify","App","isInfoTooltipPopupOpen","setIsInfoTooltipPopupOpen","setCards","setIsLoading","setCurrentUser","setLoggedIn","setIsSuccess","history","useHistory","Error","getInitialCards","finally","getInfoUser","tokenCheck","useCallback","jwt","localStorage","getItem","push","Provider","removeItem","removeCard","newCards","filter","changeLikeCardStatus","setCard","setUserAvatar","setInfoUser","exact","auth","statusCode","setItem","ReactDOM","render","StrictMode","basename","process","document","getElementById"],"mappings":"+NAEaA,EAAqBC,0BCFnB,MAA0B,iCCA1B,MAA0B,oCCmD1BC,EA9CK,SAACC,GAAU,IAG3BC,EAGED,EAHFC,OACAC,EAEEF,EAFFE,QACAC,EACEH,EADFG,UAGIC,EAAOC,cAAcC,SAErBC,EAAUJ,EACH,aAATC,EACE,wKACA,gJACO,aAATA,EACE,sMACA,0UAEAI,EAAQL,EACVM,EACAC,EASJ,OACE,yBACEC,QATgB,SAACC,GACfA,EAAEC,OAAOC,UAAUC,SAAS,UAC9Bb,KAQAc,UAAS,wCAAmCf,EAAS,eAAiB,IAFxE,SAGE,sBAAKe,UAAU,mBAAf,UACE,wBACEA,UAAU,6BACVC,KAAK,SACLN,QAAST,IAEX,qBAAKc,UAAU,uBAAuBE,IAAKV,EAAOW,IAAK,4GACvD,mBAAGH,UAAU,iBAAb,SAA+BT,UChCxBa,EAVQ,SAACpB,GACtB,OACE,cAAC,IAAD,UAEI,kBAAMA,EAAMqB,SAAWrB,EAAMsB,SAAW,cAAC,IAAD,CAAUC,GAAG,kB,cCkM9CC,EAtME,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,WAEZC,EAAc,CAClBC,MAAO,GACPC,SAAU,GACVC,aAAc,IAIVC,EAAqB,CACzBH,OAAO,EACPC,UAAU,EACVC,cAAc,GAIVE,EAAqB,CACzBJ,MAAO,GACPC,SAAU,GACVC,aAAc,IAnBmB,EAuBXG,mBAASN,GAvBE,mBAuB5BO,EAvB4B,KAuBtBC,EAvBsB,OAwBeF,mBAASF,GAxBxB,mBAwB5BK,EAxB4B,KAwBTC,EAxBS,OAyBSJ,oBAAS,GAzBlB,mBAyB5BK,EAzB4B,KAyBZC,EAzBY,OA0BGN,mBAASD,GA1BZ,mBA0B5BQ,EA1B4B,KA0BfC,EA1Be,KA0CnCC,qBAPuB,WACpBN,EAAkBR,OAAUQ,EAAkBP,UAAaO,EAAkBN,aAE1ES,GAAkB,GADlBA,GAAkB,KAKE,CAACH,IAE3B,IAAMO,EAAe,SAAC9B,GAAO,IAAD,EAC2BA,EAAEC,OAA/C8B,EADkB,EAClBA,KAAMC,EADY,EACZA,MAAOC,EADK,EACLA,SAAUC,EADL,EACKA,kBAE/BZ,GAAQ,SAAAD,GAAI,kCACPA,GADO,kBAETU,EAAOC,OAGVR,GAAqB,SAAAH,GAAI,kCACpBA,GADoB,kBAEtBU,EAAOE,EAASE,WAGnBP,GAAe,SAAAP,GAAI,kCACdA,GADc,kBAEhBU,EAAOG,QAINE,EAAY,WAChBd,EAAQR,GACRU,EAAqBN,GACrBQ,GAAkB,GAClBE,EAAeT,IAqCjB,OACE,sBAAMf,UAAU,iCAAhB,SACE,sBAAKA,UAAU,sBAAf,UACE,oBAAIA,UAAU,kBAAd,gFACA,uBACEA,UAAU,iBACV2B,KAAK,OACLM,GAAG,qBACHC,SA1Ca,SAACtC,GAIpB,GAHAA,EAAEuC,iBAGElB,EAAKL,WAAaK,EAAKJ,aAmBzB,OAjBAO,GAAqB,SAACH,GAAD,mBAAC,eACjBA,GADgB,IAEnBL,UAAU,EACVC,cAAc,OAGhBK,GAAQ,SAACD,GAAD,mBAAC,eACJA,GADG,IAENL,SAAU,GACVC,aAAc,aAGhBW,GAAe,SAACP,GAAD,mBAAC,eACXA,GADU,IAEbL,SAAU,2GACVC,aAAc,gHAMlBJ,EAAWQ,GACRmB,KAAKJ,GACLK,OAAM,SAAAC,GACLC,QAAQC,IAAIF,EAAIG,SAAW,sGAQ3B,UAME,uBACEzC,UAAS,8DACVmB,EAAkBR,MAEX,GADA,iCAGNV,KAAK,QACLyC,YAAY,QACZf,KAAK,QACLM,GAAG,uBACHU,UAAU,IACVC,UAAU,MACVhB,MAAOX,EAAKN,MACZkC,SAAUnB,EACVoB,UAAQ,IAEV,sBACEb,GAAG,6BACHjC,UAAU,kBAFZ,SAGGuB,EAAYZ,QAGf,uBACEX,UAAS,iEACVmB,EAAkBP,SAEX,GADA,iCAGNX,KAAK,WACLyC,YAAY,uCACZf,KAAK,WACLM,GAAG,0BACHU,UAAU,IACVC,UAAU,KACVhB,MAAOX,EAAKL,SACZiC,SAAUnB,EACVoB,UAAQ,IAEV,sBACEb,GAAG,gCACHjC,UAAU,kBAFZ,SAGGuB,EAAYX,WAGf,uBACEZ,UAAS,yEACVmB,EAAkBN,aAEX,GADA,iCAGNZ,KAAK,WACLyC,YAAY,0GACZf,KAAK,eACLM,GAAG,kCACHU,UAAU,IACVC,UAAU,KACVhB,MAAOX,EAAKJ,aACZgC,SAAUnB,EACVoB,UAAQ,IAEV,sBACEb,GAAG,wCACHjC,UAAU,kBAFZ,SAGGuB,EAAYV,eAGf,wBACEb,UAAS,uDACNqB,EAEG,GADA,mCAGNpB,KAAK,SANP,6HAUF,qBAAKD,UAAU,mBAAf,SACE,sJAAyB,cAAC,IAAD,CAAMO,GAAG,WAAWP,UAAU,uBAA9B,uDClDpB+C,EA9ID,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAETtC,EAAc,CAClBC,MAAO,GACPC,SAAU,IAINE,EAAqB,CACzBH,OAAO,EACPC,UAAU,GAING,EAAqB,CACzBJ,MAAO,GACPC,SAAU,IAhBiB,EAoBLI,mBAASN,GApBJ,mBAoBtBO,EApBsB,KAoBhBC,EApBgB,OAqBqBF,mBAASF,GArB9B,mBAqBtBK,EArBsB,KAqBHC,EArBG,OAsBeJ,oBAAS,GAtBxB,mBAsBtBK,EAtBsB,KAsBNC,EAtBM,OAuBSN,mBAASD,GAvBlB,mBAuBtBQ,EAvBsB,KAuBTC,EAvBS,KAsC7BC,qBAPuB,WACpBN,EAAkBR,OAAUQ,EAAkBP,SAE3CU,GAAkB,GADlBA,GAAkB,KAKE,CAACH,IAE3B,IAAMO,EAAe,SAAC9B,GAAO,IAAD,EAC2BA,EAAEC,OAA/C8B,EADkB,EAClBA,KAAMC,EADY,EACZA,MAAOC,EADK,EACLA,SAAUC,EADL,EACKA,kBAE/BZ,GAAQ,SAAAD,GAAI,kCACPA,GADO,kBAETU,EAAOC,OAGVR,GAAqB,SAAAH,GAAI,kCACpBA,GADoB,kBAEtBU,EAAOE,EAASE,WAGnBP,GAAe,SAAAP,GAAI,kCACdA,GADc,kBAEhBU,EAAOG,QAINE,EAAY,WAChBd,EAAQR,GACRU,EAAqBN,GACrBQ,GAAkB,GAClBE,EAAeT,IAajB,OACE,sBAAMf,UAAU,8BAAhB,SACE,sBAAKA,UAAU,mBAAf,UACE,oBAAIA,UAAU,eAAd,sCACA,uBACEA,UAAU,cACV2B,KAAK,OACLM,GAAG,kBACHC,SAlBa,SAACtC,GACpBA,EAAEuC,iBAEFa,EAAQ/B,GACLmB,KAAKJ,GACLK,OAAM,SAAAC,GACLC,QAAQC,IAAIF,EAAIG,SAAW,sGAQ3B,UAKE,uBACEzC,UAAS,wDACVmB,EAAkBR,MAEX,GADA,8BAGNV,KAAK,QACLyC,YAAY,QACZf,KAAK,QACLM,GAAG,oBACHW,UAAU,MACVhB,MAAOX,EAAKN,MACZkC,SAAUnB,EACVoB,UAAQ,IAEV,sBACEb,GAAG,0BACHjC,UAAU,eAFZ,SAGGuB,EAAYZ,QAGf,uBACEX,UAAS,2DACVmB,EAAkBP,SAEX,GADA,8BAGNX,KAAK,WACLyC,YAAY,uCACZf,KAAK,WACLM,GAAG,uBACHW,UAAU,KACVhB,MAAOX,EAAKL,SACZiC,SAAUnB,EACVoB,UAAQ,IAEV,sBACEb,GAAG,6BACHjC,UAAU,eAFZ,SAGGuB,EAAYX,WAGf,wBACEZ,UAAS,oDACNqB,EAEG,GADA,gCAGNpB,KAAK,SANP,qDCjIK,MAA0B,iCCqE1BgD,EAjEA,SAACjE,GAAW,IAEvBkE,EAGElE,EAHFkE,UACAC,EAEEnE,EAFFmE,UACA9C,EACErB,EADFqB,SAGIjB,EAAOC,cAAcC,SAPH,EAUQ0B,oBAAS,GAVjB,mBAUjBoC,EAViB,KAUPC,EAVO,KAiBxB,OACE,yBAAQrD,UAAU,sBAAlB,UACE,qBACEE,IAAKoD,EACLnD,IAAI,4JACJH,UAAU,iBAEXK,EACI,qCACD,wBACEJ,KAAK,SACLD,UAAS,0CACXoD,EACQ,SACA,IACNzD,QAnBW,WACnB0D,GAAaD,IAYP,SAOE,2BAEF,qBACEpD,UAAS,+BACboD,EACU,SACA,IAJR,SAKE,qBAAIpD,UAAU,eAAd,UACE,6BACE,mBAAGA,UAAU,gBAAb,SAA8BmD,MAEhC,+BACY,WAAT/D,EACD,wBACEY,UAAU,iDACVL,QAASuD,EAFX,uDAQL,cAAC,IAAD,CACDlD,UAAU,wBACVO,GAAa,aAATnB,EAAsB,WAAa,WAFtC,SAGS,aAATA,EAAsB,qEAAgB,iCCElCmE,EA3DF,SAACvE,GAAU,IAGpBwE,EAIExE,EAJFwE,KACAC,EAGEzE,EAHFyE,WACAC,EAEE1E,EAFF0E,aACAC,EACE3E,EADF2E,YAIIC,EAAcC,qBAAWhF,GAGzBiF,EAAQN,EAAKO,MAAMC,MAAQJ,EAAYI,IAGvCC,EAAUT,EAAKU,MAClBC,MAAK,SAAAC,GAAI,OAAIA,EAAKJ,MAAQJ,EAAYI,OAUzC,OACE,0BAAShE,UAAU,QAAnB,UACE,qBACEA,UAAU,eACVG,IAAKqD,EAAK7B,KACVzB,IAAKsD,EAAKa,KACV1E,QATmB,kBAAM+D,EAAaF,MAWvCM,EACI,wBACD9D,UAAU,8BACVC,KAAK,SACLN,QAdR,WAA+BgE,EAAYH,MAenC,KACJ,sBAAKxD,UAAU,mBAAf,UACE,oBAAIA,UAAU,eAAd,SAA8BwD,EAAK7B,OACnC,sBAAK3B,UAAU,sBAAf,UACE,wBACEA,UAAS,kDACPiE,EACK,4BACD,IACNhE,KAAK,SACLN,QA3Bc,kBAAM8D,EAAWD,MA6BjC,sBAAMxD,UAAU,oBAAhB,SAAqCwD,EAAKU,MAAMI,mBCX3CC,EA3CI,SAACvF,GAAU,IAG1BwE,EAEExE,EAFFwE,KACAtE,EACEF,EADFE,QAUF,OACE,yBACES,QATgB,SAACC,GACfA,EAAEC,OAAOC,UAAUC,SAAS,UAC9Bb,KAQAc,UAAS,qCACTwD,EAAKvE,OACC,eACA,IAENgD,GAAG,cAPL,SAQE,yBAAQjC,UAAU,gBAAlB,UACE,wBACEA,UAAU,6BACVC,KAAK,SACLN,QAAST,IAEX,qBACEc,UAAU,eACVG,IAAKqD,EAAK7B,KACVzB,IAAKsD,EAAKa,OAEZ,6BACErE,UAAU,iBADZ,UAEGwD,EAAK7B,KAFR,WAEwB6B,EAAKO,MAAMpC,cCgB5B6C,EApDO,SAACxF,GAAW,IAE9BsB,EAQEtB,EARFsB,SACAqB,EAOE3C,EAPF2C,KACA8C,EAMEzF,EANFyF,MACAC,EAKE1F,EALF0F,WACAzF,EAIED,EAJFC,OACAC,EAGEF,EAHFE,QACAgD,EAEElD,EAFFkD,SACAb,EACErC,EADFqC,eAUF,OACE,yBACE1B,QATgB,SAACC,GACfA,EAAEC,OAAOC,UAAUC,SAAS,UAC9Bb,KAQAc,UAAS,2BAAsB2B,EAAtB,YAA8B1C,EAAS,eAAiB,IAFnE,SAGE,sBAAKe,UAAU,mBAAf,UACE,wBACEA,UAAU,6BACVC,KAAK,SACLN,QAAST,IAEX,oBAAIc,UAAU,eAAd,SAA8ByE,IAC9B,uBACEzE,UAAW,cACX2B,KAAMA,EACNM,GAAIN,EACJO,SAAUA,EAJZ,UAMG5B,EACD,wBACEN,UAAS,oDACNqB,EAEG,GADA,gCAGNpB,KAAM,SANR,SAOGyE,aCgHEC,EA1JU,SAAC3F,GAAU,IAGhC4F,EAGE5F,EAHF4F,aACA3F,EAEED,EAFFC,OACAC,EACEF,EADFE,QAII0E,EAAcC,qBAAWhF,GAGzB6B,EAAc,CAClBmE,OAAQjB,EAAYjC,MAAQ,GAC5BmD,MAAOlB,EAAYkB,OAAS,IAIxBhE,EAAqB,CACzB+D,QAAQ,EACRC,OAAO,GAIH/D,EAAqB,CACzB8D,OAAQ,GACRC,MAAO,IA1ByB,EA8BV9D,mBAASN,GA9BC,mBA8B3BO,EA9B2B,KA8BrBC,EA9BqB,OA+BgBF,mBAASF,GA/BzB,mBA+B3BK,EA/B2B,KA+BRC,EA/BQ,OAgCUJ,oBAAS,GAhCnB,mBAgC3BK,EAhC2B,KAgCXC,EAhCW,OAiCIN,mBAASD,GAjCb,mBAiC3BQ,EAjC2B,KAiCdC,EAjCc,KAoClCC,qBAAU,WACRP,GAAQ,SAAAD,GAAI,MAAK,CACf4D,OAAQjB,EAAYjC,MAAQ,GAC5BmD,MAAOlB,EAAYkB,OAAS,SAE7B,CAAClB,IAeJnC,qBAPuB,WACpBN,EAAkB0D,QAAW1D,EAAkB2D,MAE5CxD,GAAkB,GADlBA,GAAkB,KAKE,CAACH,IAE3B,IAAMO,EAAe,SAAC9B,GAAO,IAAD,EAC2BA,EAAEC,OAA/C8B,EADkB,EAClBA,KAAMC,EADY,EACZA,MAAOC,EADK,EACLA,SAAUC,EADL,EACKA,kBAE/BZ,GAAQ,SAAAD,GAAI,kCACPA,GADO,kBAETU,EAAOC,OAGVR,GAAqB,SAAAH,GAAI,kCACpBA,GADoB,kBAEtBU,EAAOE,EAASE,WAGnBP,GAAe,SAAAP,GAAI,kCACdA,GADc,kBAEhBU,EAAOG,QAINE,EAAY,WAChBd,EAAQR,GACRU,EAAqBN,GACrBQ,GAAkB,GAClBE,EAAeT,IAejB,OACE,eAAC,EAAD,CACEY,KAAK,gBACL8C,MAAM,4HACNC,WAAW,yDACXzF,OAAQA,EACRC,QAlBgB,WAClBA,IACA8C,KAiBEE,SAdiB,SAACtC,GACpBA,EAAEuC,iBAEFyC,EAAa3D,GACbe,KAWEX,eAAgBA,EAPlB,UASE,uBACErB,UAAS,0DACNmB,EAAkB0D,OAEf,GADA,8BAGN5E,KAAK,OACLyC,YAAY,8CACZT,GAAG,mBACHN,KAAK,SACLgB,UAAU,IACVC,UAAU,KACVhB,MAAOX,EAAK4D,OACZhC,SAAUnB,EACVoB,UAAQ,IAEV,sBACEb,GAAG,yBACHjC,UAAU,eAFZ,SAGGuB,EAAYsD,SAGf,uBACE7E,UAAS,0DACNmB,EAAkB2D,MAEf,GADA,8BAGN7E,KAAK,OACLyC,YAAY,+FACZT,GAAG,qBACHN,KAAK,QACLgB,UAAU,IACVC,UAAU,MACVhB,MAAOX,EAAK6D,MACZjC,SAAUnB,EACVoB,UAAQ,IAEV,sBACEb,GAAG,2BACHjC,UAAU,eAFZ,SAGGuB,EAAYuD,YCxDNC,EA5FS,SAAC/F,GAAU,IAG/BgG,EAGEhG,EAHFgG,eACA/F,EAEED,EAFFC,OACAC,EACEF,EADFE,QAL+B,EASG8B,mBAAS,IATZ,mBAS1BiE,EAT0B,KASdC,EATc,OAUalE,oBAAS,GAVtB,mBAU1BmE,EAV0B,KAUTC,EAVS,OAWWpE,oBAAS,GAXpB,mBAW1BK,EAX0B,KAWVC,EAXU,OAYGN,mBAAS,IAZZ,mBAY1BqE,EAZ0B,KAYdC,EAZc,KA4BjC7D,qBAPuB,WAGjBH,IAFH6D,KAMuB,CAACA,IAE3B,IAQMnD,EAAY,WAChBkD,EAAc,IACdE,GAAmB,GACnB9D,GAAkB,GAClBgE,EAAc,KAehB,OACE,eAAC,EAAD,CACE3D,KAAK,aACL8C,MAAM,wFACNC,WAAW,mDACXzF,OAAQA,EACRC,QAlBgB,WAClBA,IACA8C,KAiBEE,SAdiB,SAACtC,GACpBA,EAAEuC,iBAEF6C,EAAeC,GACfjD,KAWEX,eAAgBA,EAPlB,UASE,uBACErB,UAAS,yDACNmF,EAEI,GADA,8BAGPlF,KAAK,MACLyC,YAAY,yFACZf,KAAK,SACLM,GAAG,yBACHY,SA/Ce,SAACjD,GAAO,IAAD,EACqBA,EAAEC,OAAzC+B,EADkB,EAClBA,MAAOC,EADW,EACXA,SAAUC,EADC,EACDA,kBAEzBoD,EAActD,GACdwD,EAAmBvD,EAASE,OAC5BuD,EAAcxD,IA2CVa,UAAU,IACVC,UAAU,MACVhB,MAAOqD,EACPnC,UAAQ,IAEV,sBACEb,GAAG,+BACHjC,UAAU,eAFZ,SAGGqF,QCyDME,EA/IO,SAACvG,GAAU,IAG7BwG,EAGExG,EAHFwG,WACAvG,EAEED,EAFFC,OACAC,EACEF,EADFE,QAIIwB,EAAc,CAClBiB,KAAM,GACN0C,KAAM,IAIFvD,EAAqB,CACzBa,MAAM,EACN0C,MAAM,GAIFtD,EAAqB,CACzBY,KAAM,GACN0C,KAAM,IAvBuB,EA2BPrD,mBAASN,GA3BF,mBA2BxBO,EA3BwB,KA2BlBC,EA3BkB,OA4BmBF,mBAASF,GA5B5B,mBA4BxBK,EA5BwB,KA4BLC,EA5BK,OA6BaJ,oBAAS,GA7BtB,mBA6BxBK,EA7BwB,KA6BRC,EA7BQ,OA8BON,mBAASD,GA9BhB,mBA8BxBQ,EA9BwB,KA8BXC,EA9BW,KA6C/BC,qBAPuB,WACpBN,EAAkBQ,MAASR,EAAkBkD,KAE1C/C,GAAkB,GADlBA,GAAkB,KAKE,CAACH,IAE3B,IAAMO,EAAe,SAAC9B,GAAO,IAAD,EAC2BA,EAAEC,OAA/C8B,EADkB,EAClBA,KAAMC,EADY,EACZA,MAAOC,EADK,EACLA,SAAUC,EADL,EACKA,kBAE/BZ,GAAQ,SAAAD,GAAI,kCACPA,GADO,kBAETU,EAAOC,OAGVR,GAAqB,SAAAH,GAAI,kCACpBA,GADoB,kBAEtBU,EAAOE,EAASE,WAGnBP,GAAe,SAAAP,GAAI,kCACdA,GADc,kBAEhBU,EAAOG,QAINE,EAAY,WAChBd,EAAQR,GACRU,EAAqBN,GACrBQ,GAAkB,GAClBE,EAAeT,IAgBjB,OACE,eAAC,EAAD,CACEY,KAAK,WACL8C,MAAM,gEACNC,WAAW,6CACXzF,OAAQA,EACRC,QAnBgB,WAClBA,IACA8C,KAkBEE,SAdiB,SAACtC,GACpBA,EAAEuC,iBAEFqD,EAAWvE,GACXe,KAWEX,eAAgBA,EAPlB,UASE,uBACErB,UAAS,8DACNmB,EAAkBQ,KAEd,GADA,8BAGP1B,KAAK,OACLyC,YAAY,mDACZf,KAAK,OACLM,GAAG,yBACHU,UAAU,IACVC,UAAU,KACVhB,MAAOX,EAAKU,KACZkB,SAAUnB,EACVoB,UAAQ,IAEV,sBACEb,GAAG,+BACHjC,UAAU,eAFZ,SAGGuB,EAAYI,OAGf,uBACE3B,UAAS,yDACNmB,EAAkBkD,KAEd,GADA,8BAGPpE,KAAK,MACLyC,YAAY,qGACZT,GAAG,kBACHN,KAAK,OACLgB,UAAU,IACVC,UAAU,MACVhB,MAAOX,EAAKoD,KACZxB,SAAUnB,EACVoB,UAAQ,IAEV,sBACEb,GAAG,wBACHjC,UAAU,eAFZ,SAGGuB,EAAY8C,WC/GNoB,EA1BU,SAACzG,GAAU,IAGhC0G,EAGE1G,EAHF0G,aACAzG,EAEED,EAFFC,OACAC,EACEF,EADFE,QASF,OACE,cAAC,EAAD,CACEyC,KAAK,cACL8C,MAAM,2DACNC,WAAW,eACXzF,OAAQA,EACRC,QAASA,EACTgD,SAZiB,SAACtC,GACpBA,EAAEuC,iBACFuD,KAWErE,gBAAgB,KCwJPsE,EArKF,SAAC3G,GAAU,IAGpB4G,EAQE5G,EARF4G,UACAC,EAOE7G,EAPF6G,MACAC,EAME9G,EANF8G,aACArC,EAKEzE,EALFyE,WACAsC,EAIE/G,EAJF+G,iBACAf,EAGEhG,EAHFgG,eACAJ,EAEE5F,EAFF4F,aAIIhB,EAAcC,qBAAWhF,GAbT,EAgBsCmC,oBAAS,GAhB/C,mBAgBfgF,EAhBe,KAgBSC,EAhBT,OAiBgCjF,oBAAS,GAjBzC,mBAiBfkF,EAjBe,KAiBMC,EAjBN,OAkBoCnF,oBAAS,GAlB7C,mBAkBfoF,EAlBe,KAkBQC,EAlBR,OAmBsCrF,oBAAS,GAnB/C,mBAmBfsF,EAnBe,KAmBSC,EAnBT,OAoBkBvF,mBAAS,CAC/C/B,QAAQ,EACR8E,MAAO,CAAEpC,KAAM,MAtBK,mBAoBf6E,EApBe,KAoBDC,EApBC,OAwBYzF,mBAAS,IAxBrB,mBAwBf0F,EAxBe,KAwBJC,EAxBI,KA8BhBC,EAAkB,SAAC3F,GAAD,OAAUwF,EAAgB,aAChDxH,QAAQ,GACLgC,KAEC4F,EAAmB,SAACrD,GACxB+C,GAA0B,GAC1BI,EAAanD,EAAKQ,MAId8C,EAAiB,WACrBb,GAA0B,GAC1BE,GAAuB,GACvBE,GAAyB,GACzBE,GAA0B,GAC1BE,EAAgB,CACdxH,QAAQ,EACR8E,MAAO,CAAEpC,KAAM,OAsBboF,EAAiB,SAACvD,GACtBC,EAAWD,GACRnB,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAR,iBAAsBF,QASxC,OACE,qCACE,uBAAMtC,UAAW,wBAAjB,UACE,0BAASA,UAAW,wBAApB,UACE,qBACEA,UAAW,mBACXL,QAzDoB,kBAAM0G,GAAyB,IAuDrD,SAGE,qBACEnG,IAAK0D,EAAYoD,QAAU,IAC3B7G,IAAG,+CAAYyD,EAAYjC,MAAQ,IACnC3B,UAAW,sBAEf,sBAAKA,UAAW,sBAAhB,UACE,sBAAKA,UAAW,qBAAhB,UACE,oBACEA,UAAW,kBADb,SAEG4D,EAAYjC,MAAQ,wDAEvB,wBACE3B,UAAW,8BACXC,KAAM,SACNN,QA1EiB,kBAAMsG,GAA0B,SA6ErD,mBACEjG,UAAW,kBADb,SAEG4D,EAAYkB,OAAS,4HAG1B,wBACE9E,UAAU,6BACVC,KAAK,SACLN,QApFkB,kBAAMwG,GAAuB,SAwFlDP,EACI,oFACA,yBAAS5F,UAAW,uBAApB,SACA6F,EAAMoB,KAAI,SAAA7C,GAAI,OACb,cAAC,EAAD,CAEEZ,KAAMY,EACNV,aAAckD,EACdnD,WAAYsD,EACZpD,YAAakD,GAJRzC,EAAKJ,aAYpB,cAAC,EAAD,CACE/E,OAAQ+G,EACR9G,QAAS4H,EACTlC,aArFmB,SAAC3D,GACxB2D,EAAa3D,GACVmB,KAAK0E,GACLzE,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAR,iBAAsBF,UAqFpC,cAAC,EAAD,CACErD,OAAQiH,EACRhH,QAAS4H,EACTtB,WA/EuB,SAACvE,GAC5B8E,EAAiB9E,GACdmB,KAAK0E,GACLzE,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAR,iBAAsBF,UA+EpC,cAAC,EAAD,CACErD,OAAQmH,EACRlH,QAAS4H,EACT9B,eA3FqB,SAAC9E,GAC1B8E,EAAe9E,GACZkC,KAAK0E,GACLzE,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAR,iBAAsBF,UA2FpC,cAAC,EAAD,CACErD,OAAQqH,EACRpH,QAAS4H,EACTpB,aAhFmB,WACvBI,EAAaY,GACVtE,KAAK0E,GACLzE,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAR,iBAAsBF,UAgFpC,cAAC,EAAD,CACEkB,KAAMgD,EACNtH,QAAS4H,QC/JFI,EAVA,WACb,OACE,wBAAQlH,UAAU,sBAAlB,SACE,mBAAGA,UAAU,iBAAb,6CCLOmH,EAAW,gCAElBC,EAAgB,SAACC,GAAD,OAAcA,EAASC,GAAKD,EAASE,OAASC,QAAQC,OAAR,+CAAyBJ,EAASK,U,gBCuGvFC,EAFH,I,WAtGV,cAA0C,IAA5BC,EAA2B,EAA3BA,QAASC,EAAkB,EAAlBA,MAAOC,EAAW,EAAXA,QAAW,oBACvCC,KAAKC,SAAWJ,EAChBG,KAAKE,OAASJ,EACdE,KAAKG,SAAWJ,E,2DAGHK,GACb,OAAIA,EAAIb,GACCa,EAAIZ,OAENC,QAAQC,OAAR,+CAAyBU,EAAIT,W,wCAIpC,OAAOU,MAAM,GAAD,OAAIL,KAAKC,SAAT,YAAqBD,KAAKG,SAA1B,UAA4C,CACtDG,QAAS,CACPC,cAAeP,KAAKE,UAGrB7F,KAAK2F,KAAKQ,kB,oCAIb,OAAOH,MAAM,GAAD,OAAIL,KAAKC,SAAT,YAAqBD,KAAKG,SAA1B,aAA+C,CACzDG,QAAS,CACPC,cAAeP,KAAKE,UAGrB7F,KAAK2F,KAAKQ,kB,qCAGiB,IAAlB1D,EAAiB,EAAjBA,OAAQC,EAAS,EAATA,MACpB,OAAOsD,MAAM,GAAD,OAAIL,KAAKC,SAAT,YAAqBD,KAAKG,SAA1B,aAA+C,CACzDM,OAAQ,QACRH,QAAS,CACPC,cAAeP,KAAKE,OACpB,eAAgB,oBAElBQ,KAAMC,KAAKC,UAAU,CACnBhH,KAAMkD,EACNC,YAGD1C,KAAK2F,KAAKQ,kB,iCAGU,IAAf5G,EAAc,EAAdA,KAAM0C,EAAQ,EAARA,KACd,OAAO+D,MAAM,GAAD,OAAIL,KAAKC,SAAT,YAAqBD,KAAKG,SAA1B,UAA4C,CACtDM,OAAQ,OACRH,QAAS,CACPC,cAAeP,KAAKE,OACpB,eAAgB,oBAElBQ,KAAMC,KAAKC,UAAU,CACnBhH,OACA0C,WAGDjC,KAAK2F,KAAKQ,kB,iCAGJtG,GACT,OAAOmG,MAAM,GAAD,OAAIL,KAAKC,SAAT,YAAqBD,KAAKG,SAA1B,kBAA4CjG,GAAM,CAC5DuG,OAAQ,SACRH,QAAS,CACPC,cAAeP,KAAKE,UAGrB7F,KAAK2F,KAAKQ,kB,2CAGMtG,EAAIgC,GACvB,OAAOmE,MAAM,GAAD,OAAIL,KAAKC,SAAT,YAAqBD,KAAKG,SAA1B,wBAAkDjG,GAAM,CAClEuG,OAAQvE,EAAU,SAAW,MAC7BoE,QAAS,CACPC,cAAeP,KAAKE,UAGrB7F,KAAK2F,KAAKQ,kB,oCAGDrI,GACZ,OAAOkI,MAAM,GAAD,OAAIL,KAAKC,SAAT,YAAqBD,KAAKG,SAA1B,oBAAsD,CAChEM,OAAQ,QACRH,QAAS,CACPC,cAAeP,KAAKE,OACpB,eAAgB,oBAElBQ,KAAMC,KAAKC,UAAU,CACnB3B,OAAQ9G,MAGTkC,KAAK2F,KAAKQ,oB,KAUL,CANG,CACbX,QAAS,oCACTC,MAAO,uCACPC,QAAS,cC6IIc,EA9NH,WAEV,IAAMlI,EAAc,CAClBC,MAAO,IAHO,EAO4CK,oBAAS,GAPrD,mBAOT6H,EAPS,KAOeC,EAPf,OAQU9H,mBAAS,IARnB,mBAQT6E,EARS,KAQFkD,EARE,OASkB/H,oBAAS,GAT3B,mBAST4E,EATS,KASEoD,EATF,OAUsBhI,mBAAS,IAV/B,mBAUT4C,EAVS,KAUIqF,EAVJ,OAWgBjI,oBAAS,GAXzB,mBAWTX,EAXS,KAWC6I,EAXD,OAYQlI,mBAASN,GAZjB,mBAYTO,EAZS,KAYHC,EAZG,OAakBF,oBAAS,GAb3B,mBAaT7B,EAbS,KAaEgK,EAbF,KAeVC,EAAUC,cAUVjC,EAAgB,SAACe,GACrB,IAAKA,EAAK,MAAM,IAAImB,MAAJ,gDAAqBnB,EAAI1F,WAyD3ChB,qBAAU,WACRuH,GAAa,GACbrB,EAAI4B,kBACDnH,MAAK,SAAA+F,GACJY,EAASZ,MAEV9F,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAR,iBAAsBF,OACnCkH,SAAQ,kBAAMR,GAAa,QAC7B,IAEHvH,qBAAU,WACRkG,EAAI8B,cACDrH,MAAK,SAAA+F,GACJc,EAAed,MAEhB9F,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAR,iBAAsBF,SACrC,IAIH,IAAMoH,EAAaC,uBAAY,WAC7B,IF3FuB9B,EE2FjB+B,EAAMC,aAAaC,QAAQ,OAE7BF,IF7FmB/B,EE8FL+B,EF7FbxB,MAAM,GAAD,OAAIjB,EAAJ,aAAyB,CACnCqB,OAAQ,MACRH,QAAS,CACP,eAAgB,mBAChB,cAAgB,UAAhB,OAA2BR,MAG5BzF,KAAKgF,IEuFDhF,MAAK,SAAC+F,GACDA,IACFe,GAAY,GACZhI,EAAQ,CACNP,MAAOwH,EAAIlH,KAAKN,QAElByI,EAAQW,KAAK,cAGhB1H,OAAM,kBAAM+G,EAAQW,KAAK,iBAE7B,CAACX,IAEJ3H,qBAAU,WACRiI,MACC,CAACA,IA+CJ,OACE,qBAAK1J,UAAU,kBAAf,SACE,eAACnB,EAAmBmL,SAApB,CAA6BpI,MAAOgC,EAApC,UACE,cAAC,EAAD,CACEvD,SAAUA,EACV6C,UAZc,WACpB2G,aAAaI,WAAW,OACxB/I,EAAQR,GACRwI,GAAY,GACZE,EAAQW,KAAK,aASP5G,UAAWlC,EAAKN,QAGlB,eAAC,IAAD,WACE,cAAC,EAAD,CACEvB,KAAK,SACLiB,SAAUA,EAFZ,SAGE,cAAC,EAAD,CACEyF,aA/Ga,SAACY,GACxB,OAAOiB,EAAIuC,WAAWxD,GACnBtE,MAAK,SAAA+F,GACJf,EAAce,GACd,IAAMgC,EAAWtE,EAAMuE,QAAO,SAAAhG,GAAI,OAAIA,EAAKJ,MAAQ0C,EAAY,KAAOtC,KAEtE,OADA2E,EAASoB,GACFhC,MA0GD1E,WA7HW,SAACD,GACtB,IAAMS,EAAUT,EAAKU,MAAMC,MAAK,SAAAC,GAAI,OAAIA,EAAKJ,MAAQJ,EAAYI,OAEjE,OAAO2D,EAAI0C,qBAAqB7G,EAAKQ,IAAKC,GACvC7B,MAAK,SAAA+F,GACJf,EAAce,GACd,IAAMgC,EAAWtE,EAAMoB,KAAI,SAAA7C,GAAI,OAAIA,EAAKJ,MAAQR,EAAKQ,IAAMmE,EAAM/D,KAEjE,OADA2E,EAASoB,GACFhC,MAsHDpC,iBAxIiB,SAAC,GAAoB,IAAlBpE,EAAiB,EAAjBA,KAAM0C,EAAW,EAAXA,KACpC,OAAOsD,EAAI2C,QAAQ,CAAE3I,OAAM0C,SACxBjC,MAAK,SAAA+F,GAGJ,OAFAf,EAAce,GACdY,EAAS,CAACZ,GAAF,mBAAUtC,KACXsC,MAoIDnD,eAnJe,SAAC9E,GAC1B,OAAOyH,EAAI4C,cAAcrK,GACtBkC,MAAK,SAAA+F,GAGJ,OAFAf,EAAce,GACdc,EAAed,GACRA,MA+IDvD,aA9Ja,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,OAAQC,EAAY,EAAZA,MAClC,OAAO6C,EAAI6C,YAAY,CAAE3F,SAAQC,UAC9B1C,MAAK,SAAA+F,GAGJ,OAFAf,EAAce,GACdc,EAAed,GACRA,MA0JDtC,MAAOA,EACPD,UAAWA,MAIf,cAAC,IAAD,CAAOxG,KAAK,WAAWqL,OAAK,EAA5B,SACE,cAAC,EAAD,CAAOzH,QApDG,SAAC,GACnB,OFjJqB,SAAC,GAAyB,IAAvBpC,EAAsB,EAAtBA,SAAUD,EAAY,EAAZA,MACpC,OAAOyH,MAAM,GAAD,OAAIjB,EAAJ,WAAuB,CACjCqB,OAAQ,OACRH,QAAS,CACP,eAAgB,oBAElBI,KAAMC,KAAKC,UAAU,CACnB,SAAY/H,EACZ,MAASD,MAGVyB,KAAKgF,GEsICsD,CAAe,CAAE9J,SADmB,EAAtBA,SACaD,MADS,EAAZA,QAE5ByB,MAAK,SAAA+F,GACJ,IAAKA,GAA0B,MAAnBA,EAAIwC,YAAyC,MAAnBxC,EAAIwC,WAAoB,MAAM,IAAIrB,MAAJ,gDAAqBnB,EAAI1F,UACzF0F,EAAIN,QACNiB,GAA0B,GAC1BK,GAAa,GACbD,GAAY,GACZW,aAAae,QAAQ,MAAOzC,EAAIN,WAGnCzF,KAAKsH,GACLrH,OAAM,SAAAC,GAGL,OAFAwG,GAA0B,GAC1BK,GAAa,GACN7G,UAwCL,cAAC,IAAD,CAAOlD,KAAK,WAAWqL,OAAK,EAA5B,SACE,cAAC,EAAD,CAAUhK,WAzEG,SAAC,GACtB,OF9IoB,SAAC,GAAyB,IAAvBG,EAAsB,EAAtBA,SAAUD,EAAY,EAAZA,MACnC,OAAOyH,MAAM,GAAD,OAAIjB,EAAJ,WAAuB,CACjCqB,OAAQ,OACRH,QAAS,CACP,eAAgB,oBAElBI,KAAMC,KAAKC,UAAU,CACnB,SAAY/H,EACZ,MAASD,MAGVyB,KAAKgF,GEmICsD,CAAc,CAAE9J,SADuB,EAAtBA,SACSD,MADa,EAAZA,QAE/ByB,MAAK,SAAA+F,GACJ,IAAKA,GAA0B,MAAnBA,EAAIwC,WAAoB,MAAM,IAAIrB,MAAJ,gDAAqBnB,EAAI1F,UAInE,OAHAqG,GAA0B,GAC1BK,GAAa,GACbC,EAAQW,KAAK,YACN5B,KAER9F,OAAM,SAAAC,GAGL,OAFAwG,GAA0B,GAC1BK,GAAa,GACN7G,UAgEL,cAAC,IAAD,CAAOlD,KAAK,IAAZ,SACGiB,EACG,cAAC,IAAD,CAAUE,GAAG,WACb,cAAC,IAAD,CAAUA,GAAG,kBAIrB,cAAC,EAAD,IAEA,cAAC,EAAD,CACEtB,OAAQ4J,EACR3J,QAnMW,WACjB4J,GAA0B,IAmMpB3J,UAAWA,UCnOrB0L,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAeC,SAAUC,eAAzB,SACE,cAAC,EAAD,QAGJC,SAASC,eAAe,W","file":"static/js/main.ec47293b.chunk.js","sourcesContent":["import { createContext } from 'react';\n\nexport const CurrentUserContext = createContext();","export default __webpack_public_path__ + \"static/media/fail.7c6a020b.svg\";","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","import React from 'react';\nimport fail from '../images/fail.svg';\nimport success from '../images/success.svg';\nimport { useLocation } from 'react-router-dom';\n\nconst InfoTooltip = (props) => {\n  // Диструктуризированная переменная с пропсами\n  const {\n    isOpen,\n    onClose,\n    isSuccess\n  } = props;\n\n  const path = useLocation().pathname\n\n  const tooltip = isSuccess\n    ? path === \"/sign-up\"\n      ? \"Вы успешно зарегистрировались!\"\n      : \"Вы успешно авторизовались!\"\n    : path === \"/sign-up\"\n      ? \"Что-то пошло не так! Попробуйте ещё раз.\"\n      : \"Убедитесь в правильности введенных данных. Попробуйте ещё раз.\"\n\n  const image = isSuccess\n    ? success\n    : fail\n\n  const handleClose = (e) => {\n    if (e.target.classList.contains('popup')) {\n      onClose()\n    }\n    return;\n  }\n\n  return (\n    <section\n      onClick={handleClose}\n      className={`popup popup_type_info-tooltip ${isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__container\">\n        <button\n          className=\"button popup__button-close\"\n          type=\"button\"\n          onClick={onClose}\n        />\n        <img className=\"popup__image-tooltip\" src={image} alt={\"Картинка подсказки\"}></img>\n        <p className=\"popup__tooltip\">{tooltip}</p>\n      </div>\n    </section>\n  )\n}\n\nexport default InfoTooltip;","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = (props) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn ? props.children : <Redirect to=\"./sign-in\" />\n      }\n    </Route>\n  )\n}\n\nexport default ProtectedRoute;","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Register = ({ onRegister }) => {\n  // Дефолтное значение инпутов\n  const initialData = {\n    email: '',\n    password: '',\n    confirmation: ''\n  };\n\n  // Дефолтное значение валидации\n  const initialInputsValid = {\n    email: false,\n    password: false,\n    confirmation: false\n  }\n\n  // Дефолтное значение ошибок валидации и сабмита\n  const initialErrorsValid = {\n    email: '',\n    password: '',\n    confirmation: ''\n  }\n\n  // Стейты компонента\n  const [data, setData] = useState(initialData);\n  const [validationsInputs, setValidationsInputs] = useState(initialInputsValid);\n  const [validationForm, setValidationForm] = useState(false);\n  const [errorsValid, setErrorsValid] = useState(initialErrorsValid);\n\n\n  // Функции компонента\n  // --Проверка валидности формы \n  // --Проверка валидности инпуты\n  // --Ресет формы \n  // --Закрытие формы\n  // --Сабмит формы \n  const checkFormValid = () => {\n    !validationsInputs.email || !validationsInputs.password || !validationsInputs.confirmation\n      ? setValidationForm(false)\n      : setValidationForm(true);\n  }\n\n  // Контроль состояния инпутов\n  useEffect(checkFormValid, [validationsInputs])\n\n  const handleChange = (e) => {\n    const { name, value, validity, validationMessage } = e.target;\n\n    setData(data => ({\n      ...data,\n      [name]: value,\n    }));\n\n    setValidationsInputs(data => ({\n      ...data,\n      [name]: validity.valid,\n    }));\n\n    setErrorsValid(data => ({\n      ...data,\n      [name]: validationMessage,\n    }));\n  }\n\n  const resetForm = () => {\n    setData(initialData);\n    setValidationsInputs(initialInputsValid);\n    setValidationForm(false);\n    setErrorsValid(initialErrorsValid);\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    // Проверяем совпадение паролей\n    if (data.password !== data.confirmation) {\n\n      setValidationsInputs((data) => ({\n        ...data,\n        password: false,\n        confirmation: false\n      }));\n\n      setData((data) => ({\n        ...data,\n        password: '',\n        confirmation: ''\n      }));\n\n      setErrorsValid((data) => ({\n        ...data,\n        password: 'Пароли не совпадают',\n        confirmation: 'Пароли не совпадают'\n      }));\n      return;\n    }\n\n    // Запрос на сервер и обработка результата\n    onRegister(data)\n      .then(resetForm)\n      .catch(err => {\n        console.log(err.message || 'Что то пошло не так')\n      })\n  }\n\n  return (\n    <main className=\"register content page__content\">\n      <div className=\"register__container\">\n        <h2 className=\"register__title\">Регистрация</h2>\n        <form\n          className=\"register__form\"\n          name=\"form\"\n          id=\"form-with-register\"\n          onSubmit={handleSubmit}>\n\n          <input\n            className={`register__input register__input_type_email\n        ${!validationsInputs.email\n                ? 'register__input_state_invalid'\n                : ''\n              }`}\n            type=\"email\"\n            placeholder=\"Email\"\n            name=\"email\"\n            id=\"register-input-email\"\n            minLength=\"2\"\n            maxLength=\"100\"\n            value={data.email}\n            onChange={handleChange}\n            required\n          />\n          <span\n            id=\"register-input-email-error\"\n            className=\"register__error\">\n            {errorsValid.email}\n          </span>\n\n          <input\n            className={`register__input register__input_type_password\n        ${!validationsInputs.password\n                ? 'register__input_state_invalid'\n                : ''\n              }`}\n            type=\"password\"\n            placeholder=\"Пароль\"\n            name=\"password\"\n            id=\"register-input-password\"\n            minLength=\"6\"\n            maxLength=\"50\"\n            value={data.password}\n            onChange={handleChange}\n            required\n          />\n          <span\n            id=\"register-input-password-error\"\n            className=\"register__error\">\n            {errorsValid.password}\n          </span>\n\n          <input\n            className={`register__input register__input_type_confirm-password\n        ${!validationsInputs.confirmation\n                ? 'register__input_state_invalid'\n                : ''\n              }`}\n            type=\"password\"\n            placeholder=\"Подтвердите пароль\"\n            name=\"confirmation\"\n            id=\"register-input-confirm-password\"\n            minLength=\"2\"\n            maxLength=\"50\"\n            value={data.confirmation}\n            onChange={handleChange}\n            required\n          />\n          <span\n            id=\"register-input-confirm-password-error\"\n            className=\"register__error\">\n            {errorsValid.confirmation}\n          </span>\n\n          <button\n            className={`button register__button-submit \n            ${!validationForm\n                ? 'register__button-submit_invalid'\n                : ''\n              }`}\n            type=\"submit\">\n            Зарегистрироваться\n          </button>\n        </form>\n        <div className=\"register__signin\">\n          <p>Уже зарегистрированы? <Link to=\"/sign-in\" className=\"register__login-link\">Войти</Link></p>\n        </div>\n      </div>\n    </main>\n  );\n}\n\nexport default Register;","import React, { useState, useEffect } from 'react';\n\nconst Login = ({ onLogin }) => {\n  // Дефолтное значение инпутов\n  const initialData = {\n    email: '',\n    password: '',\n  };\n\n  // Дефолтное значение валидации\n  const initialInputsValid = {\n    email: false,\n    password: false\n  };\n\n  // Дефолтное значение ошибок валидации и сабмита\n  const initialErrorsValid = {\n    email: '',\n    password: ''\n  };\n\n  // Стейты компонента\n  const [data, setData] = useState(initialData);\n  const [validationsInputs, setValidationsInputs] = useState(initialInputsValid);\n  const [validationForm, setValidationForm] = useState(false);\n  const [errorsValid, setErrorsValid] = useState(initialErrorsValid);\n\n  // Функции компонента\n  // --Проверка валидности формы \n  // --Проверка валидности инпуты\n  // --Ресет формы \n  // --Закрытие формы\n  // --Сабмит формы \n  const checkFormValid = () => {\n    !validationsInputs.email || !validationsInputs.password\n      ? setValidationForm(false)\n      : setValidationForm(true);\n  }\n\n  // Контроль состояния инпутов\n  useEffect(checkFormValid, [validationsInputs])\n\n  const handleChange = (e) => {\n    const { name, value, validity, validationMessage } = e.target;\n\n    setData(data => ({\n      ...data,\n      [name]: value,\n    }));\n\n    setValidationsInputs(data => ({\n      ...data,\n      [name]: validity.valid,\n    }));\n\n    setErrorsValid(data => ({\n      ...data,\n      [name]: validationMessage,\n    }));\n  }\n\n  const resetForm = () => {\n    setData(initialData);\n    setValidationsInputs(initialInputsValid);\n    setValidationForm(false);\n    setErrorsValid(initialErrorsValid);\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    onLogin(data)\n      .then(resetForm)\n      .catch(err => {\n        console.log(err.message || 'Что то пошло не так')\n      })\n  }\n\n  return (\n    <main className=\"login content page__content\">\n      <div className=\"login__container\">\n        <h2 className=\"login__title\">Вход</h2>\n        <form\n          className=\"login__form\"\n          name=\"form\"\n          id=\"form-with-login\"\n          onSubmit={handleSubmit}>\n          <input\n            className={`login__input login__input_type_email\n        ${!validationsInputs.email\n                ? 'login__input_state_invalid'\n                : ''\n              }`}\n            type=\"email\"\n            placeholder=\"Email\"\n            name=\"email\"\n            id=\"login-input-email\"\n            maxLength=\"100\"\n            value={data.email}\n            onChange={handleChange}\n            required\n          />\n          <span\n            id=\"login-input-email-error\"\n            className=\"login__error\">\n            {errorsValid.email}\n          </span>\n\n          <input\n            className={`login__input login__input_type_password\n        ${!validationsInputs.password\n                ? 'login__input_state_invalid'\n                : ''\n              }`}\n            type=\"password\"\n            placeholder=\"Пароль\"\n            name=\"password\"\n            id=\"login-input-password\"\n            maxLength=\"50\"\n            value={data.password}\n            onChange={handleChange}\n            required\n          />\n          <span\n            id=\"login-input-password-error\"\n            className=\"login__error\">\n            {errorsValid.password}\n          </span>\n\n          <button\n            className={`button login__button-submit \n            ${!validationForm\n                ? 'login__button-submit_invalid'\n                : ''\n              }`}\n            type=\"submit\">\n            Войти\n          </button>\n        </form>\n      </div>\n    </main>\n  );\n}\n\nexport default Login;","export default __webpack_public_path__ + \"static/media/Logo.a307e1c4.svg\";","import React, { useState } from 'react';\nimport { useLocation, Link } from 'react-router-dom';\nimport logo from '../images/Logo.svg';\n\nconst Header = (props) => {\n  const {\n    onSignOut,\n    userEmail,\n    loggedIn\n  } = props\n\n  const path = useLocation().pathname\n\n  // Стейт бургер-меню \n  const [isActive, setIsActive] = useState(false);\n\n  // Функция переключения состояния бургер-меню\n  const handleButton = () => {\n    setIsActive(!isActive)\n  }\n\n  return (\n    <header className=\"header page__header\">\n      <img\n        src={logo}\n        alt=\"Логотип проекта Места России\"\n        className=\"header__logo\"\n      />\n      {loggedIn\n        ? (<>\n          <button\n            type=\"button\"\n            className={`header__burger button \n        ${isActive\n                ? \"active\"\n                : \"\"}`}\n            onClick={handleButton}>\n            <span></span>\n          </button>\n          <nav\n            className={`header__menu \n      ${isActive\n                ? \"active\"\n                : \"\"}`}>\n            <ul className=\"header__list\">\n              <li>\n                <p className=\"header__email\">{userEmail}</p>\n              </li>\n              <li>\n                {path === \"/mesto\"}\n                <button\n                  className=\"button header__button header__button_type_exit\"\n                  onClick={onSignOut}>\n                  Выйти\n              </button>\n              </li>\n            </ul>\n          </nav></>)\n        : (<Link\n          className=\"button header__button\"\n          to={path === \"/sign-in\" ? \"/sign-up\" : \"/sign-in\"}>\n          {path === \"/sign-in\" ? \"Регистрация\" : \"Вход\"}\n        </Link>)}\n\n\n    </header >\n  );\n}\n\nexport default Header;","import React, { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nconst Card = (props) => {\n  // Диструктуризированная переменная с пропсами\n  const {\n    card,\n    onCardLike,\n    onImageClick,\n    onCardTrash\n  } = props;\n\n  // Контекст с данными о пользователе\n  const currentUser = useContext(CurrentUserContext);\n\n  // Переменная с подтвержденным авторством \n  const isOwn = card.owner._id === currentUser._id;\n\n  // Проверка авторских лайков\n  const isLiked = card.likes\n    .some(item => item._id === currentUser._id);\n\n  // Функции компонента\n  // -- Нажатие на лайк\n  // -- Нажатие на фото\n  // -- Нажатие на урну\n  const handleLikeClick = () => onCardLike(card);\n  const handleImageClick = () => onImageClick(card);\n  function handleDeleteClick() { onCardTrash(card) }\n\n  return (\n    <article className=\"place\">\n      <img\n        className=\"place__image\"\n        alt={card.name}\n        src={card.link}\n        onClick={handleImageClick}\n      />\n      {isOwn\n        ? (<button\n          className=\"button place__button-remove\"\n          type=\"button\"\n          onClick={handleDeleteClick} />)\n        : null}\n      <div className=\"place__row-block\">\n        <h2 className=\"place__title\">{card.name}</h2>\n        <div className=\"place__column-block\">\n          <button\n            className={`button place__button-like \n            ${isLiked\n                ? ('place__button-like_active')\n                : ''}`}\n            type=\"button\"\n            onClick={handleLikeClick}\n          />\n          <span className=\"place__score-like\">{card.likes.length}</span>\n        </div>\n      </div>\n    </article>\n  );\n}\n\nexport default Card;","import React from 'react';\n\nconst ImagePopup = (props) => {\n  // Диструктуризированная переменная с пропсами\n  const {\n    card,\n    onClose\n  } = props;\n\n  const handleClose = (e) => {\n    if (e.target.classList.contains('popup')) {\n      onClose()\n    }\n    return;\n  }\n\n  return (\n    <section\n      onClick={handleClose}\n      className={`popup popup_blackout \n    ${card.isOpen\n          ? 'popup_opened'\n          : ''\n        }`}\n      id=\"popup-image\">\n      <figure className=\"popup__figure\">\n        <button\n          className=\"button popup__button-close\"\n          type=\"button\"\n          onClick={onClose}\n        />\n        <img\n          className=\"popup__image\"\n          alt={card.name}\n          src={card.link}\n        />\n        <figcaption\n          className=\"popup__caption\">\n          {card.name} / &copy; {card.owner.name}\n        </figcaption>\n      </figure>\n    </section>\n  );\n}\n\nexport default ImagePopup;","import React from 'react';\n\nconst PopupWithForm = (props) => {\n  const {\n    children,\n    name,\n    title,\n    textButton,\n    isOpen,\n    onClose,\n    onSubmit,\n    validationForm\n  } = props;\n\n  const handleClose = (e) => {\n    if (e.target.classList.contains('popup')) {\n      onClose()\n    }\n    return;\n  }\n\n  return (\n    <section\n      onClick={handleClose}\n      className={`popup popup_type_${name} ${isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__container\">\n        <button\n          className=\"button popup__button-close\"\n          type=\"button\"\n          onClick={onClose}\n        />\n        <h2 className=\"popup__title\">{title}</h2>\n        <form\n          className={\"popup__form\"}\n          name={name}\n          id={name}\n          onSubmit={onSubmit}\n        >\n          {children}\n          <button\n            className={`button popup__button-submit \n            ${!validationForm\n                ? 'popup__button-submit_invalid'\n                : ''\n              }`}\n            type={\"submit\"}>\n            {textButton}\n          </button>\n        </form>\n      </div>\n    </section>\n  );\n}\n\nexport default PopupWithForm;","import React, { useState, useContext, useEffect } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport PopupWithForm from './PopupWithForm';\n\nconst EditProfilePopup = (props) => {\n  // Диструктуризированная переменная с пропсами\n  const {\n    onUpdateUser,\n    isOpen,\n    onClose\n  } = props;\n\n  // Контекст с данными о пользователе\n  const currentUser = useContext(CurrentUserContext);\n\n  // Дефолтное значение инпутов\n  const initialData = {\n    author: currentUser.name || '',\n    about: currentUser.about || ''\n  };\n\n  // Дефолтное значение валидации\n  const initialInputsValid = {\n    author: false,\n    about: false\n  }\n\n  // Дефолтное значение ошибок валидации и сабмита\n  const initialErrorsValid = {\n    author: '',\n    about: ''\n  }\n\n  // Стейты компонента\n  const [data, setData] = useState(initialData);\n  const [validationsInputs, setValidationsInputs] = useState(initialInputsValid);\n  const [validationForm, setValidationForm] = useState(false);\n  const [errorsValid, setErrorsValid] = useState(initialErrorsValid);\n\n  // --Хук Юз Эффект для отображения актуальных данных о пользователе\n  useEffect(() => {\n    setData(data => ({\n      author: currentUser.name || '',\n      about: currentUser.about || ''\n    }));\n  }, [currentUser]);\n\n  // Функции компонента\n  // --Проверка валидности формы \n  // --Проверка валидности инпуты\n  // --Ресет формы \n  // --Закрытие формы\n  // --Сабмит формы\n  const checkFormValid = () => {\n    !validationsInputs.author || !validationsInputs.about\n      ? setValidationForm(false)\n      : setValidationForm(true);\n  }\n\n  // Контроль состояния инпутов\n  useEffect(checkFormValid, [validationsInputs])\n\n  const handleChange = (e) => {\n    const { name, value, validity, validationMessage } = e.target;\n\n    setData(data => ({\n      ...data,\n      [name]: value,\n    }));\n\n    setValidationsInputs(data => ({\n      ...data,\n      [name]: validity.valid,\n    }));\n\n    setErrorsValid(data => ({\n      ...data,\n      [name]: validationMessage,\n    }));\n  }\n\n  const resetForm = () => {\n    setData(initialData);\n    setValidationsInputs(initialInputsValid);\n    setValidationForm(false);\n    setErrorsValid(initialErrorsValid);\n  }\n\n  const handleClose = () => {\n    onClose()\n    resetForm()\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    onUpdateUser(data)\n    resetForm()\n  }\n\n  return (\n    <PopupWithForm\n      name=\"popup-profile\"\n      title=\"Редактировать профиль\"\n      textButton=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={handleClose}\n      onSubmit={handleSubmit}\n      validationForm={validationForm}\n    >\n      <input\n        className={`popup__input popup__input_type_author \n        ${!validationsInputs.author\n            ? 'popup__input_state_invalid'\n            : ''\n          }`}\n        type=\"text\"\n        placeholder=\"Ваше имя\"\n        id=\"popup-input-name\"\n        name='author'\n        minLength=\"2\"\n        maxLength=\"40\"\n        value={data.author}\n        onChange={handleChange}\n        required\n      />\n      <span\n        id=\"popup-input-name-error\"\n        className=\"popup__error\">\n        {errorsValid.author}\n      </span>\n\n      <input\n        className={`popup__input popup__input_type_status \n        ${!validationsInputs.about\n            ? 'popup__input_state_invalid'\n            : ''\n          }`}\n        type=\"text\"\n        placeholder=\"Расскажите о себе\"\n        id=\"popup-input-status\"\n        name='about'\n        minLength=\"2\"\n        maxLength=\"200\"\n        value={data.about}\n        onChange={handleChange}\n        required\n      />\n      <span\n        id=\"popup-input-status-error\"\n        className=\"popup__error\">\n        {errorsValid.about}\n      </span>\n\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React, { useState, useEffect } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nconst EditAvatarPopup = (props) => {\n  // Диструктуризированная переменная с пропсами\n  const {\n    onUpdateAvatar,\n    isOpen,\n    onClose\n  } = props;\n\n  // Стейты компонента\n  const [inputValue, setInputValue] = useState('');\n  const [validationInput, setValidationInput] = useState(false);\n  const [validationForm, setValidationForm] = useState(false);\n  const [errorValid, setErrorValid] = useState('');\n\n  // Функции компонента\n  // --Проверка валидности формы \n  // --Проверка валидности инпуты\n  // --Ресет формы \n  // --Закрытие формы\n  // --Сабмит формы \n\n  const checkFormValid = () => {\n    !validationInput\n      ? setValidationForm(false)\n      : setValidationForm(true);\n  }\n\n  // Контроль состояния инпута\n  useEffect(checkFormValid, [validationInput])\n\n  const handleChange = (e) => {\n    const { value, validity, validationMessage } = e.target;\n\n    setInputValue(value);\n    setValidationInput(validity.valid);\n    setErrorValid(validationMessage);\n  }\n\n  const resetForm = () => {\n    setInputValue('');\n    setValidationInput(false);\n    setValidationForm(false);\n    setErrorValid('');\n  }\n\n  const handleClose = () => {\n    onClose()\n    resetForm()\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    onUpdateAvatar(inputValue)\n    resetForm();\n  }\n\n  return (\n    <PopupWithForm\n      name=\"add-avatar\"\n      title=\"Обновить аватар\"\n      textButton=\"Обновить\"\n      isOpen={isOpen}\n      onClose={handleClose}\n      onSubmit={handleSubmit}\n      validationForm={validationForm}\n    >\n      <input\n        className={`popup__input popup__input_type_photo \n        ${!validationInput\n            ? ('popup__input_state_invalid')\n            : ('')\n          }`}\n        type=\"url\"\n        placeholder=\"Ссылка на аватар\"\n        name='avatar'\n        id=\"popup-input-url-avatar\"\n        onChange={handleChange}\n        minLength=\"7\"\n        maxLength=\"300\"\n        value={inputValue}\n        required\n      />\n      <span\n        id=\"popup-input-url-avatar-error\"\n        className=\"popup__error\">\n        {errorValid}\n      </span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n\n","import React, { useState, useEffect } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nconst AddPlacePopup = (props) => {\n  // Диструктуризированная переменная с пропсами\n  const {\n    onAddPlace,\n    isOpen,\n    onClose\n  } = props;\n\n  // Дефолтное значение инпутов\n  const initialData = {\n    name: '',\n    link: ''\n  };\n\n  // Дефолтное значение валидации инпутов\n  const initialInputsValid = {\n    name: false,\n    link: false\n  }\n\n  // Дефолтное значение ошибок валидации и сабмита\n  const initialErrorsValid = {\n    name: '',\n    link: ''\n  }\n\n  // Стейты компонента\n  const [data, setData] = useState(initialData);\n  const [validationsInputs, setValidationsInputs] = useState(initialInputsValid);\n  const [validationForm, setValidationForm] = useState(false);\n  const [errorsValid, setErrorsValid] = useState(initialErrorsValid);\n\n  // Функции компонента\n  // --Проверка валидности формы \n  // --Проверка валидности инпуты\n  // --Ресет формы \n  // --Закрытие формы\n  // --Сабмит формы \n  const checkFormValid = () => {\n    !validationsInputs.name || !validationsInputs.link\n      ? setValidationForm(false)\n      : setValidationForm(true);\n  }\n\n  // Контроль состояния инпутов\n  useEffect(checkFormValid, [validationsInputs])\n\n  const handleChange = (e) => {\n    const { name, value, validity, validationMessage } = e.target;\n\n    setData(data => ({\n      ...data,\n      [name]: value,\n    }));\n\n    setValidationsInputs(data => ({\n      ...data,\n      [name]: validity.valid\n    }));\n\n    setErrorsValid(data => ({\n      ...data,\n      [name]: validationMessage,\n    }));\n  }\n\n  const resetForm = () => {\n    setData(initialData);\n    setValidationsInputs(initialInputsValid);\n    setValidationForm(false);\n    setErrorsValid(initialErrorsValid);\n  }\n\n  const handleClose = () => {\n    onClose()\n    resetForm()\n  }\n\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    onAddPlace(data)\n    resetForm()\n  }\n\n  return (\n    <PopupWithForm\n      name=\"add-card\"\n      title=\"Новое место\"\n      textButton=\"Создать\"\n      isOpen={isOpen}\n      onClose={handleClose}\n      onSubmit={handleSubmit}\n      validationForm={validationForm}\n    >\n      <input\n        className={`popup__input popup__input_type_place-name \n        ${!validationsInputs.name\n            ? ('popup__input_state_invalid')\n            : ('')\n          }`}\n        type=\"text\"\n        placeholder=\"Название\"\n        name=\"name\"\n        id=\"popup-input-place-name\"\n        minLength=\"2\"\n        maxLength=\"30\"\n        value={data.name}\n        onChange={handleChange}\n        required\n      />\n      <span\n        id=\"popup-input-place-name-error\"\n        className=\"popup__error\">\n        {errorsValid.name}\n      </span>\n\n      <input\n        className={`popup__input popup__input_type_photo \n        ${!validationsInputs.link\n            ? ('popup__input_state_invalid')\n            : ('')\n          }`}\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        id=\"popup-input-url\"\n        name=\"link\"\n        minLength=\"7\"\n        maxLength=\"300\"\n        value={data.link}\n        onChange={handleChange}\n        required\n      />\n      <span\n        id=\"popup-input-url-error\"\n        className=\"popup__error\">\n        {errorsValid.link}\n      </span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nconst RemovePlacePopup = (props) => {\n  // Диструктуризированная переменная с пропсами\n  const {\n    onDeleteCard,\n    isOpen,\n    onClose\n  } = props;\n\n  // функция отправки формы\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onDeleteCard();\n  }\n\n  return (\n    <PopupWithForm\n      name=\"remove-card\"\n      title=\"Вы уверены?\"\n      textButton=\"Да\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      validationForm={true} />\n  );\n}\n\nexport default RemovePlacePopup;","\nimport React, { useContext, useState } from 'react';\nimport Card from './Card.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n// popup components\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport RemovePlacePopup from './RemovePlacePopup';\n\nconst Main = (props) => {\n  // Диструктуризированная переменная с пропсами\n  const {\n    isLoading,\n    cards,\n    onCardDelete,\n    onCardLike,\n    onAddPlaceSubmit,\n    onUpdateAvatar,\n    onUpdateUser\n\n  } = props\n\n  const currentUser = useContext(CurrentUserContext);\n\n  // Стейт переменные компонента\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isRemovePlacePopupOpen, setIsRemovePlacePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({\n    isOpen: false,\n    owner: { name: '' }\n  });\n  const [useCardId, setUseCardId] = useState('');\n\n  // функции открытия попапов\n  const handleEditProfileClick = () => setIsEditProfilePopupOpen(true);\n  const handleAddPlaceClick = () => setIsAddPlacePopupOpen(true);\n  const handleEditAvatarClick = () => setIsEditAvatarPopupOpen(true);\n  const handleCardClick = (data) => setSelectedCard({\n    isOpen: true,\n    ...data\n  });\n  const handleTrashClick = (card) => {\n    setIsRemovePlacePopupOpen(true)\n    setUseCardId(card._id)\n  }\n\n  // функция закрытия всех попапов\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false)\n    setIsAddPlacePopupOpen(false)\n    setIsEditAvatarPopupOpen(false)\n    setIsRemovePlacePopupOpen(false)\n    setSelectedCard({\n      isOpen: false,\n      owner: { name: '' }\n    })\n  }\n\n  const handleUpdateUser = (data) => {\n    onUpdateUser(data)\n      .then(closeAllPopups)\n      .catch(err => console.log(`Error: ${err}`));\n  }\n\n  const handleUpdateAvatar = (src) => {\n    onUpdateAvatar(src)\n      .then(closeAllPopups)\n      .catch(err => console.log(`Error: ${err}`));\n  }\n\n  const handleAddPlaceSubmit = (data) => {\n    onAddPlaceSubmit(data)\n      .then(closeAllPopups)\n      .catch(err => console.log(`Error: ${err}`));\n  }\n\n  const handleCardLike = (card) => {\n    onCardLike(card)\n      .catch(err => console.log(`Error: ${err}`));\n  }\n\n  const handleCardDelete = () => {\n    onCardDelete(useCardId)\n      .then(closeAllPopups)\n      .catch(err => console.log(`Error: ${err}`));\n  }\n\n  return (\n    <>\n      <main className={\"content page__content\"}>\n        <section className={\"profile content__item\"}>\n          <div\n            className={\"profile__overlay\"}\n            onClick={handleEditAvatarClick}>\n            <img\n              src={currentUser.avatar || \"#\"}\n              alt={`Аватар ${currentUser.name || \"\"}`}\n              className={\"profile__avatar\"} />\n          </div>\n          <div className={\"profile__text-block\"}>\n            <div className={\"profile__row-block\"}>\n              <h1\n                className={\"profile__author\"}>\n                {currentUser.name || \"Загрузка...\"}\n              </h1>\n              <button\n                className={\"button profile__button-edit\"}\n                type={\"button\"}\n                onClick={handleEditProfileClick}>\n              </button>\n            </div>\n            <p\n              className={\"profile__status\"}>\n              {currentUser.about || \"пожалуйста, подождите\"}\n            </p>\n          </div>\n          <button\n            className=\"button profile__button-add\"\n            type=\"button\"\n            onClick={handleAddPlaceClick}>\n          </button>\n        </section>\n\n        {isLoading\n          ? (<p>Загрузка...</p>)\n          : (<section className={\"places content__item\"}>\n            {cards.map(item => (\n              <Card\n                key={item._id}\n                card={item}\n                onImageClick={handleCardClick}\n                onCardLike={handleCardLike}\n                onCardTrash={handleTrashClick}\n              />\n            )\n            )}\n          </section>)\n        }\n      </main>\n\n      <EditProfilePopup\n        isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n      />\n\n      <AddPlacePopup\n        isOpen={isAddPlacePopupOpen}\n        onClose={closeAllPopups}\n        onAddPlace={handleAddPlaceSubmit}\n      />\n\n      <EditAvatarPopup\n        isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n      />\n\n      <RemovePlacePopup\n        isOpen={isRemovePlacePopupOpen}\n        onClose={closeAllPopups}\n        onDeleteCard={handleCardDelete}\n      />\n\n      <ImagePopup\n        card={selectedCard}\n        onClose={closeAllPopups}\n      />\n    </>\n  )\n}\n\nexport default Main;\n","import React from 'react';\n\nconst Footer = () => {\n  return (\n    <footer className=\"footer page__footer\">\n      <p className=\"footer__author\">\n        &copy; 2020 Mesto Russia Lod55\n      </p>\n    </footer>\n  );\n}\n\nexport default Footer;","export const BASE_URL = 'https://auth.nomoreparties.co';\n\nconst responseCheck = (response) => response.ok ? response.json() : Promise.reject(`Ошибка ${response.status}`);\n\nexport const register = ({ password, email }) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      \"password\": password,\n      \"email\": email\n    })\n  })\n    .then(responseCheck)\n};\n\nexport const authorize = ({ password, email }) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      \"password\": password,\n      \"email\": email\n    })\n  })\n    .then(responseCheck)\n};\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": `Bearer ${token}`\n    }\n  })\n    .then(responseCheck)\n}","class Api {\n  constructor({ baseUrl, token, groupId }) {\n    this._address = baseUrl;\n    this._token = token;\n    this._groupId = groupId;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка ${res.status}`);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._address}/${this._groupId}/cards`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n      .then(this._checkResponse)\n  }\n\n  getInfoUser() {\n    return fetch(`${this._address}/${this._groupId}/users/me`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n      .then(this._checkResponse)\n  }\n\n  setInfoUser({ author, about }) {\n    return fetch(`${this._address}/${this._groupId}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: author,\n        about,\n      })\n    })\n      .then(this._checkResponse)\n  }\n\n  setCard({ name, link }) {\n    return fetch(`${this._address}/${this._groupId}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name,\n        link\n      })\n    })\n      .then(this._checkResponse)\n  }\n\n  removeCard(id) {\n    return fetch(`${this._address}/${this._groupId}/cards/${id}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._token,\n      }\n    })\n      .then(this._checkResponse)\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    return fetch(`${this._address}/${this._groupId}/cards/likes/${id}`, {\n      method: isLiked ? 'DELETE' : 'PUT',\n      headers: {\n        authorization: this._token,\n      }\n    })\n      .then(this._checkResponse)\n  }\n\n  setUserAvatar(src) {\n    return fetch(`${this._address}/${this._groupId}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar: src,\n      })\n    })\n      .then(this._checkResponse)\n  }\n}\n\nconst config = {\n  baseUrl: 'https://mesto.nomoreparties.co/v1',\n  token: '429ceaf1-0a34-48aa-a4c9-c70c2c79ac6e',\n  groupId: 'cohort-19'\n}\n\nconst api = new Api(config);\n\nexport default api;","import React, { useState, useEffect, useCallback } from 'react';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\n// popup components\nimport InfoTooltip from './InfoTooltip';\n\n// pages components\nimport ProtectedRoute from \"./ProtectedRoute\"\nimport Register from './Register';\nimport Login from './Login';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\n\n// api\nimport * as auth from '../utils/auth';\nimport api from '../utils/api.js'\n\nconst App = () => {\n  // Дефолтные значение данных пользователя для api/auth\n  const initialData = {\n    email: ''\n  }\n\n  // Стейт переменные компонента\n  const [isInfoTooltipPopupOpen, setIsInfoTooltipPopupOpen] = useState(false);\n  const [cards, setCards] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [currentUser, setCurrentUser] = useState({});\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [data, setData] = useState(initialData);\n  const [isSuccess, setIsSuccess] = useState(false);\n\n  const history = useHistory();\n\n  // функция закрытия попапа\n  const closePopup = () => {\n    setIsInfoTooltipPopupOpen(false)\n  }\n\n\n  // ---------- Функции основного Api ----------\n  // Проверка наличия ответа сервера\n  const responseCheck = (res) => {\n    if (!res) throw new Error(`Ошибка: ${res.message}`);\n  }\n\n  // Отправка информации на сервер\n  const handleUpdateUser = ({ author, about }) => {\n    return api.setInfoUser({ author, about })\n      .then(res => {\n        responseCheck(res);\n        setCurrentUser(res);\n        return res;\n      })\n  }\n\n  // Изменение аватара на сервере и отрисовка\n  const handleUpdateAvatar = (src) => {\n    return api.setUserAvatar(src)\n      .then(res => {\n        responseCheck(res);\n        setCurrentUser(res);\n        return res;\n      })\n  }\n\n  // Добавление новой карточки на сервер и отрисовка\n  const handleAddPlaceSubmit = ({ name, link }) => {\n    return api.setCard({ name, link })\n      .then(res => {\n        responseCheck(res);\n        setCards([res, ...cards]);\n        return res;\n      })\n  }\n\n  // Контоль состояния лайка и работа с состоянием на сервере\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some(item => item._id === currentUser._id);\n\n    return api.changeLikeCardStatus(card._id, isLiked)\n      .then(res => {\n        responseCheck(res);\n        const newCards = cards.map(item => item._id === card._id ? res : item);\n        setCards(newCards);\n        return res;\n      })\n  }\n\n  // Удаления карточки с сервера\n  const handleCardDelete = (useCardId) => {\n    return api.removeCard(useCardId)\n      .then(res => {\n        responseCheck(res);\n        const newCards = cards.filter(item => item._id === useCardId ? null : item);\n        setCards(newCards);\n        return res;\n      })\n  }\n\n  useEffect(() => {\n    setIsLoading(true)\n    api.getInitialCards()\n      .then(res => {\n        setCards(res)\n      })\n      .catch(err => console.log(`Error: ${err}`))\n      .finally(() => setIsLoading(false))\n  }, []);\n\n  useEffect(() => {\n    api.getInfoUser()\n      .then(res => {\n        setCurrentUser(res);\n      })\n      .catch(err => console.log(`Error: ${err}`));\n  }, []);\n\n  // ---------- Функции запросов api/auth ----------\n  // Проверка токена пользователя на подленность на сервере\n  const tokenCheck = useCallback(() => {\n    const jwt = localStorage.getItem('jwt');\n\n    if (jwt) {\n      auth.getContent(jwt)\n        .then((res) => {\n          if (res) {\n            setLoggedIn(true);\n            setData({\n              email: res.data.email\n            })\n            history.push('/mesto');\n          }\n        })\n        .catch(() => history.push('/sign-in'));\n    }\n  }, [history])\n\n  useEffect(() => {\n    tokenCheck();\n  }, [tokenCheck])\n\n  // Регистрации пользователя на сервере\n  const handleRegister = ({ password, email }) => {\n    return auth.register({ password, email })\n      .then(res => {\n        if (!res || res.statusCode === 400) throw new Error(`Ошибка: ${res.message}`);\n        setIsInfoTooltipPopupOpen(true);\n        setIsSuccess(true);\n        history.push('/sign-in')\n        return res;\n      })\n      .catch(err => {\n        setIsInfoTooltipPopupOpen(true);\n        setIsSuccess(false);\n        return err;\n      })\n  }\n\n  // Авторизации пользователя\n  const handleLogin = ({ password, email }) => {\n    return auth.authorize({ password, email })\n      .then(res => {\n        if (!res || res.statusCode === 400 || res.statusCode === 401) throw new Error(`Ошибка: ${res.message}`);\n        if (res.token) {\n          setIsInfoTooltipPopupOpen(true);\n          setIsSuccess(true);\n          setLoggedIn(true);\n          localStorage.setItem('jwt', res.token);\n        };\n      })\n      .then(tokenCheck)\n      .catch(err => {\n        setIsInfoTooltipPopupOpen(true);\n        setIsSuccess(false);\n        return err;\n      })\n  }\n\n  // Выход из системы\n  const handleSignOut = () => {\n    localStorage.removeItem('jwt');\n    setData(initialData);\n    setLoggedIn(false);\n    history.push('/sign-in');\n  }\n\n  return (\n    <div className=\"page__container\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header\n          loggedIn={loggedIn}\n          onSignOut={handleSignOut}\n          userEmail={data.email}\n        />\n\n        <Switch>\n          <ProtectedRoute\n            path=\"/mesto\"\n            loggedIn={loggedIn}>\n            <Main\n              onCardDelete={handleCardDelete}\n              onCardLike={handleCardLike}\n              onAddPlaceSubmit={handleAddPlaceSubmit}\n              onUpdateAvatar={handleUpdateAvatar}\n              onUpdateUser={handleUpdateUser}\n              cards={cards}\n              isLoading={isLoading}\n            />\n          </ProtectedRoute>\n\n          <Route path='/sign-in' exact>\n            <Login onLogin={handleLogin} />\n          </Route>\n\n          <Route path='/sign-up' exact>\n            <Register onRegister={handleRegister} />\n          </Route>\n\n          <Route path=\"*\">\n            {loggedIn\n              ? <Redirect to=\"/mesto\" />\n              : <Redirect to=\"/sign-in\" />}\n          </Route>\n        </Switch>\n\n        <Footer />\n\n        <InfoTooltip\n          isOpen={isInfoTooltipPopupOpen}\n          onClose={closePopup}\n          isSuccess={isSuccess}\n        />\n\n      </CurrentUserContext.Provider>\n    </div>\n  )\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}